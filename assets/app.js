(()=>{"use strict";var e,t={5208:()=>{},2242:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0,t.ActionTypes={CHANGE_CURRENT_SOUND_SOURCE:"CHANGE_CURRENT_SOUND_SOURCE",CHANGE_ANALYSER_STATE:"CHANGE_ANALYSER_STATE",CHANGE_MML_STATE:"CHANGE_MML_STATE",DOWN_MELODY_KEYBOARDS:"DOWN_MELODY_KEYBOARDS",DOWN_BASS_KEYBOARDS:"DOWN_BASS_KEYBOARDS",UP_MELODY_KEYBOARDS:"UP_MELODY_KEYBOARDS",UP_BASS_KEYBOARDS:"UP_BASS_KEYBOARDS",ACTIVATE_MIDI_KEYBOARDS:"ACTIVATE_MIDI_KEYBOARDS"}},5584:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.activateMIDIKeyboards=t.upBassKeyboards=t.upMelodyKeyboards=t.downBassKeyboards=t.downMelodyKeyboards=t.changeMMLState=t.changeAnalyserState=t.changeCurrentSoundSource=void 0;var r=a(2242);t.changeCurrentSoundSource=function(e){return{type:r.ActionTypes.CHANGE_CURRENT_SOUND_SOURCE,payload:e}},t.changeAnalyserState=function(e){return{type:r.ActionTypes.CHANGE_ANALYSER_STATE,payload:e}},t.changeMMLState=function(e){return{type:r.ActionTypes.CHANGE_MML_STATE,payload:e}},t.downMelodyKeyboards=function(e){return{type:r.ActionTypes.DOWN_MELODY_KEYBOARDS,payload:e}},t.downBassKeyboards=function(e){return{type:r.ActionTypes.DOWN_BASS_KEYBOARDS,payload:e}},t.upMelodyKeyboards=function(e){return{type:r.ActionTypes.UP_MELODY_KEYBOARDS,payload:e}},t.upBassKeyboards=function(e){return{type:r.ActionTypes.UP_BASS_KEYBOARDS,payload:e}},t.activateMIDIKeyboards=function(e){return{type:r.ActionTypes.ACTIVATE_MIDI_KEYBOARDS,payload:e}}},8333:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var n=o(a(7294)),u=a(8216),i=a(6216),s=a(1046),c=a(7524),d=a(7308),f=a(9999),m=a(5229),p=a(2789),h=a(5712),b=a(5599),v=a(2341),w=a(4543),_=a(1905),E=a(6166),g=a(5846),M=a(8948),y=a(2040),C=a(5850),S=a(9215),O=a(6690),k=a(7718),A=a(7265),P=a(5507),j=a(7309),N=a(7597),X=a(5250),F=a(6412),x=a(6694),T=a(4262);t.App=function(){var e=n.useState(!1),t=e[0],a=e[1],r=n.useState(!0),l=r[0],o=r[1],B=n.useState(0),D=B[0],R=B[1],V=n.useState(""),I=V[0],U=V[1],L=n.useState(!1),K=L[0],G=L[1],q=n.useState(!1),H=q[0],Y=q[1],z=u.useSelector((function(e){return e.currentSoundSource})),W=n.useMemo((function(){return["mixer","oscillator","oneshot","audio","stream","noise"]}),[]),J=n.useMemo((function(){return[x.BASE_URL+"/one-shots/piano-2/C.mp3",x.BASE_URL+"/one-shots/piano-2/D.mp3",x.BASE_URL+"/one-shots/piano-2/E.mp3",x.BASE_URL+"/one-shots/piano-2/F.mp3",x.BASE_URL+"/one-shots/piano-2/G.mp3",x.BASE_URL+"/one-shots/piano-2/A.mp3",x.BASE_URL+"/one-shots/piano-2/B.mp3",x.BASE_URL+"/one-shots/guitar/C.mp3",x.BASE_URL+"/one-shots/e-guitar/C.mp3"]}),[]),$=n.useMemo((function(){return[{url:x.BASE_URL+"/impulse-responses/s1_r1_c.mp3",value:1,label:"1 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r2_c.mp3",value:2,label:"1 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r3_c.mp3",value:3,label:"1 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r4_c.mp3",value:4,label:"1 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r1_c.mp3",value:5,label:"2 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r2_c.mp3",value:6,label:"2 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r3_c.mp3",value:7,label:"2 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r4_c.mp3",value:8,label:"2 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r1_c.mp3",value:9,label:"3 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r2_c.mp3",value:10,label:"3 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r3_c.mp3",value:11,label:"3 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r4_c.mp3",value:12,label:"3 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r1_o.mp3",value:13,label:"1 - 1",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r2_o.mp3",value:14,label:"1 - 2",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r3_o.mp3",value:15,label:"1 - 3",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_r4_o.mp3",value:16,label:"1 - 4",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r1_o.mp3",value:17,label:"2 - 1",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r2_o.mp3",value:18,label:"2 - 2",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r3_o.mp3",value:19,label:"2 - 3",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s2_r4_o.mp3",value:20,label:"2 - 4",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r1_o.mp3",value:21,label:"3 - 1",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r2_o.mp3",value:22,label:"3 - 2",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r3_o.mp3",value:23,label:"3 - 3",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s3_r4_o.mp3",value:24,label:"3 - 4",group:"Omnidirectional measurements in the audience area"},{url:x.BASE_URL+"/impulse-responses/s1_p1_o.mp3",value:25,label:"1 - 1",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s1_p2_o.mp3",value:26,label:"1 - 2",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s1_p3_o.mp3",value:27,label:"1 - 3",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s2_p1_o.mp3",value:28,label:"2 - 1",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s2_p2_o.mp3",value:29,label:"2 - 2",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s2_p3_o.mp3",value:30,label:"2 - 3",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s3_p1_o.mp3",value:31,label:"3 - 1",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s3_p2_o.mp3",value:32,label:"3 - 2",group:"Omnidirectional measurements on the stage"},{url:x.BASE_URL+"/impulse-responses/s3_p3_o.mp3",value:33,label:"3 - 3",group:"Omnidirectional measurements on the stage"}]}),[]),Q=n.useCallback((function(e){switch(Math.floor((e+9)%12)){case 0:case 1:return 0;case 2:case 3:return 1;case 4:return 2;case 5:case 6:return 3;case 7:case 8:return 4;case 9:case 10:return 5;case 11:return 6;default:return-1}}),[]),Z=n.useCallback((function(e){var t=0;return e>=0&&e<=2?t=.0625:e>=3&&e<=14?t=.125:e>=15&&e<=26?t=.25:e>=27&&e<=38?t=.5:e>=39&&e<=50?t=1:e>=51&&e<=62?t=2:e>=63&&e<=74?t=4:e>=75&&e<=86?t=8:e>=87&&e<=98&&(t=16),[1,4,6,9,11,13,16,18,21,23,25,28,30,33,35,37,40,42,45,47,49,52,54,57,59,61,64,66,69,71,73,76,78,81,83,85].includes(e)&&(t*=Math.pow(2,1/12)),t}),[]),ee=n.useCallback((function(e){var t=0;switch(e-x.NUMBER_OF_ONESHOTS){case 0:t=1*Math.pow(Math.pow(2,1/12),-39);break;case 1:t=1*Math.pow(Math.pow(2,1/12),-38);break;case 2:t=1*Math.pow(Math.pow(2,1/12),-37);break;case 3:t=1*Math.pow(Math.pow(2,1/12),-36);break;case 4:t=1*Math.pow(Math.pow(2,1/12),-35);break;case 5:t=1*Math.pow(Math.pow(2,1/12),-34);break;case 6:t=1*Math.pow(Math.pow(2,1/12),-33);break;case 7:t=1*Math.pow(Math.pow(2,1/12),-32);break;case 8:t=1*Math.pow(Math.pow(2,1/12),-31);break;case 9:t=1*Math.pow(Math.pow(2,1/12),-30);break;case 10:t=1*Math.pow(Math.pow(2,1/12),-29);break;case 11:t=1*Math.pow(Math.pow(2,1/12),-28);break;case 12:t=1*Math.pow(Math.pow(2,1/12),-27);break;case 13:t=1*Math.pow(Math.pow(2,1/12),-26);break;case 14:t=1*Math.pow(Math.pow(2,1/12),-25);break;case 15:t=1*Math.pow(Math.pow(2,1/12),-24);break;case 16:t=1*Math.pow(Math.pow(2,1/12),-23);break;case 17:t=1*Math.pow(Math.pow(2,1/12),-22);break;case 18:t=1*Math.pow(Math.pow(2,1/12),-21);break;case 19:t=1*Math.pow(Math.pow(2,1/12),-20);break;case 20:t=1*Math.pow(Math.pow(2,1/12),-19);break;case 21:t=1*Math.pow(Math.pow(2,1/12),-18);break;case 22:t=1*Math.pow(Math.pow(2,1/12),-17);break;case 23:t=1*Math.pow(Math.pow(2,1/12),-16);break;case 24:t=1*Math.pow(Math.pow(2,1/12),-15);break;case 25:t=1*Math.pow(Math.pow(2,1/12),-14);break;case 26:t=1*Math.pow(Math.pow(2,1/12),-13);break;case 27:t=1*Math.pow(Math.pow(2,1/12),-12);break;case 28:t=1*Math.pow(Math.pow(2,1/12),-11);break;case 29:t=1*Math.pow(Math.pow(2,1/12),-10);break;case 30:t=1*Math.pow(Math.pow(2,1/12),-9);break;case 31:t=1*Math.pow(Math.pow(2,1/12),-8);break;case 32:t=1*Math.pow(Math.pow(2,1/12),-7);break;case 33:t=1*Math.pow(Math.pow(2,1/12),-6);break;case 34:t=1*Math.pow(Math.pow(2,1/12),-5);break;case 35:t=1*Math.pow(Math.pow(2,1/12),-4);break;case 36:t=1*Math.pow(Math.pow(2,1/12),-3);break;case 37:t=1*Math.pow(Math.pow(2,1/12),-2);break;case 38:t=1*Math.pow(Math.pow(2,1/12),-1);break;case 39:t=1;break;case 40:t=1*Math.pow(Math.pow(2,1/12),1);break;case 41:t=1*Math.pow(Math.pow(2,1/12),2);break;case 42:t=1*Math.pow(Math.pow(2,1/12),3);break;case 43:t=1*Math.pow(Math.pow(2,1/12),4);break;case 44:t=1*Math.pow(Math.pow(2,1/12),5);break;case 45:t=1*Math.pow(Math.pow(2,1/12),6);break;case 46:t=1*Math.pow(Math.pow(2,1/12),7);break;case 47:t=1*Math.pow(Math.pow(2,1/12),8);break;case 48:t=1*Math.pow(Math.pow(2,1/12),9);break;case 49:t=1*Math.pow(Math.pow(2,1/12),10);break;case 50:t=1*Math.pow(Math.pow(2,1/12),11);break;case 51:t=1*Math.pow(Math.pow(2,1/12),12);break;case 52:t=1*Math.pow(Math.pow(2,1/12),13);break;case 53:t=1*Math.pow(Math.pow(2,1/12),14);break;case 54:t=1*Math.pow(Math.pow(2,1/12),15);break;case 55:t=1*Math.pow(Math.pow(2,1/12),16);break;case 56:t=1*Math.pow(Math.pow(2,1/12),17);break;case 57:t=1*Math.pow(Math.pow(2,1/12),18);break;case 58:t=1*Math.pow(Math.pow(2,1/12),19);break;case 59:t=1*Math.pow(Math.pow(2,1/12),20);break;case 60:t=1*Math.pow(Math.pow(2,1/12),21);break;case 61:t=1*Math.pow(Math.pow(2,1/12),22);break;case 62:t=1*Math.pow(Math.pow(2,1/12),23);break;case 63:t=1*Math.pow(Math.pow(2,1/12),24);break;case 64:t=1*Math.pow(Math.pow(2,1/12),25);break;case 65:t=1*Math.pow(Math.pow(2,1/12),26);break;case 66:t=1*Math.pow(Math.pow(2,1/12),27);break;case 67:t=1*Math.pow(Math.pow(2,1/12),28);break;case 68:t=1*Math.pow(Math.pow(2,1/12),29);break;case 69:t=1*Math.pow(Math.pow(2,1/12),30);break;case 70:t=1*Math.pow(Math.pow(2,1/12),31);break;case 71:t=1*Math.pow(Math.pow(2,1/12),33);break;case 77:t=1*Math.pow(Math.pow(2,1/12),34);break;case 78:t=1*Math.pow(Math.pow(2,1/12),35);break;case 79:t=1*Math.pow(Math.pow(2,1/12),36);break;case 80:t=1*Math.pow(Math.pow(2,1/12),37);break;case 81:t=1*Math.pow(Math.pow(2,1/12),38);break;case 82:t=1*Math.pow(Math.pow(2,1/12),39);break;case 83:t=1*Math.pow(Math.pow(2,1/12),40);break;case 84:t=1*Math.pow(Math.pow(2,1/12),41);break;case 85:t=1*Math.pow(Math.pow(2,1/12),42);break;case 86:t=1*Math.pow(Math.pow(2,1/12),43);break;case 87:t=1*Math.pow(Math.pow(2,1/12),44);break;case 88:t=1*Math.pow(Math.pow(2,1/12),45)}return t}),[]),te=n.useCallback((function(e){var t=0;switch(e-x.NUMBER_OF_ONESHOTS-x.NUMBER_OF_ONESHOTS){case 0:t=1*Math.pow(Math.pow(2,1/12),-39);break;case 1:t=1*Math.pow(Math.pow(2,1/12),-38);break;case 2:t=1*Math.pow(Math.pow(2,1/12),-37);break;case 3:t=1*Math.pow(Math.pow(2,1/12),-36);break;case 4:t=1*Math.pow(Math.pow(2,1/12),-35);break;case 5:t=1*Math.pow(Math.pow(2,1/12),-34);break;case 6:t=1*Math.pow(Math.pow(2,1/12),-33);break;case 7:t=1*Math.pow(Math.pow(2,1/12),-32);break;case 8:t=1*Math.pow(Math.pow(2,1/12),-31);break;case 9:t=1*Math.pow(Math.pow(2,1/12),-30);break;case 10:t=1*Math.pow(Math.pow(2,1/12),-29);break;case 11:t=1*Math.pow(Math.pow(2,1/12),-28);break;case 12:t=1*Math.pow(Math.pow(2,1/12),-27);break;case 13:t=1*Math.pow(Math.pow(2,1/12),-26);break;case 14:t=1*Math.pow(Math.pow(2,1/12),-25);break;case 15:t=1*Math.pow(Math.pow(2,1/12),-24);break;case 16:t=1*Math.pow(Math.pow(2,1/12),-23);break;case 17:t=1*Math.pow(Math.pow(2,1/12),-22);break;case 18:t=1*Math.pow(Math.pow(2,1/12),-21);break;case 19:t=1*Math.pow(Math.pow(2,1/12),-20);break;case 20:t=1*Math.pow(Math.pow(2,1/12),-19);break;case 21:t=1*Math.pow(Math.pow(2,1/12),-18);break;case 22:t=1*Math.pow(Math.pow(2,1/12),-17);break;case 23:t=1*Math.pow(Math.pow(2,1/12),-16);break;case 24:t=1*Math.pow(Math.pow(2,1/12),-15);break;case 25:t=1*Math.pow(Math.pow(2,1/12),-14);break;case 26:t=1*Math.pow(Math.pow(2,1/12),-13);break;case 27:t=1*Math.pow(Math.pow(2,1/12),-12);break;case 28:t=1*Math.pow(Math.pow(2,1/12),-11);break;case 29:t=1*Math.pow(Math.pow(2,1/12),-10);break;case 30:t=1*Math.pow(Math.pow(2,1/12),-9);break;case 31:t=1*Math.pow(Math.pow(2,1/12),-8);break;case 32:t=1*Math.pow(Math.pow(2,1/12),-7);break;case 33:t=1*Math.pow(Math.pow(2,1/12),-6);break;case 34:t=1*Math.pow(Math.pow(2,1/12),-5);break;case 35:t=1*Math.pow(Math.pow(2,1/12),-4);break;case 36:t=1*Math.pow(Math.pow(2,1/12),-3);break;case 37:t=1*Math.pow(Math.pow(2,1/12),-2);break;case 38:t=1*Math.pow(Math.pow(2,1/12),-1);break;case 39:t=1;break;case 40:t=1*Math.pow(Math.pow(2,1/12),1);break;case 41:t=1*Math.pow(Math.pow(2,1/12),2);break;case 42:t=1*Math.pow(Math.pow(2,1/12),3);break;case 43:t=1*Math.pow(Math.pow(2,1/12),4);break;case 44:t=1*Math.pow(Math.pow(2,1/12),5);break;case 45:t=1*Math.pow(Math.pow(2,1/12),6);break;case 46:t=1*Math.pow(Math.pow(2,1/12),7);break;case 47:t=1*Math.pow(Math.pow(2,1/12),8);break;case 48:t=1*Math.pow(Math.pow(2,1/12),9);break;case 49:t=1*Math.pow(Math.pow(2,1/12),10);break;case 50:t=1*Math.pow(Math.pow(2,1/12),11);break;case 51:t=1*Math.pow(Math.pow(2,1/12),12);break;case 52:t=1*Math.pow(Math.pow(2,1/12),13);break;case 53:t=1*Math.pow(Math.pow(2,1/12),14);break;case 54:t=1*Math.pow(Math.pow(2,1/12),15);break;case 55:t=1*Math.pow(Math.pow(2,1/12),16);break;case 56:t=1*Math.pow(Math.pow(2,1/12),17);break;case 57:t=1*Math.pow(Math.pow(2,1/12),18);break;case 58:t=1*Math.pow(Math.pow(2,1/12),19);break;case 59:t=1*Math.pow(Math.pow(2,1/12),20);break;case 60:t=1*Math.pow(Math.pow(2,1/12),21);break;case 61:t=1*Math.pow(Math.pow(2,1/12),22);break;case 62:t=1*Math.pow(Math.pow(2,1/12),23);break;case 63:t=1*Math.pow(Math.pow(2,1/12),24);break;case 64:t=1*Math.pow(Math.pow(2,1/12),25);break;case 65:t=1*Math.pow(Math.pow(2,1/12),26);break;case 66:t=1*Math.pow(Math.pow(2,1/12),27);break;case 67:t=1*Math.pow(Math.pow(2,1/12),28);break;case 68:t=1*Math.pow(Math.pow(2,1/12),29);break;case 69:t=1*Math.pow(Math.pow(2,1/12),30);break;case 70:t=1*Math.pow(Math.pow(2,1/12),31);break;case 71:t=1*Math.pow(Math.pow(2,1/12),33);break;case 77:t=1*Math.pow(Math.pow(2,1/12),34);break;case 78:t=1*Math.pow(Math.pow(2,1/12),35);break;case 79:t=1*Math.pow(Math.pow(2,1/12),36);break;case 80:t=1*Math.pow(Math.pow(2,1/12),37);break;case 81:t=1*Math.pow(Math.pow(2,1/12),38);break;case 82:t=1*Math.pow(Math.pow(2,1/12),39);break;case 83:t=1*Math.pow(Math.pow(2,1/12),40);break;case 84:t=1*Math.pow(Math.pow(2,1/12),41);break;case 85:t=1*Math.pow(Math.pow(2,1/12),42);break;case 86:t=1*Math.pow(Math.pow(2,1/12),43);break;case 87:t=1*Math.pow(Math.pow(2,1/12),44);break;case 88:t=1*Math.pow(Math.pow(2,1/12),45)}return t}),[]),ae=n.useCallback((function(){for(var e=[],t=0;t<x.NUMBER_OF_ONESHOTS;t++){(a={buffer:0,rate:1,loop:!1,start:0,end:0,volume:1}).buffer=Q(t),a.rate=Z(t),e[t]=a}for(t=x.NUMBER_OF_ONESHOTS;t<x.NUMBER_OF_ONESHOTS+x.NUMBER_OF_ONESHOTS;t++){(a={buffer:7,rate:1,loop:!1,start:0,end:0,volume:1}).rate=ee(t),e[t]=a}for(t=x.NUMBER_OF_ONESHOTS+x.NUMBER_OF_ONESHOTS;t<x.NUMBER_OF_ONESHOTS+x.NUMBER_OF_ONESHOTS+x.NUMBER_OF_ONESHOTS;t++){var a;(a={buffer:8,rate:1,loop:!1,start:0,end:0,volume:1}).rate=te(t),e[t]=a}return e}),[Q,Z,ee,te]),re=n.useCallback((function(e){if(!e){var t=[];$.forEach((function(e){T.X.ajax(e.url,"arraybuffer",x.AJAX_TIMEOUT,(function(e,a){T.X.decode(T.X.get(),a,(function(e){t.push(e);var a=Math.floor(t.length/$.length*100);if(t.length===$.length)return W.forEach((function(e){T.X(e).module("reverb").preset(t)})),window.C("oscillator").module("reverb").preset(t),o(!1),void R(100);R(a)}),(function(){U("Decode error."),G(!0)}))}),(function(){U("The loading of RIRs failed."),G(!0)}))}))}}),[W,$]),le=n.useCallback((function(){U(""),G(!1)}),[]),oe=n.useCallback((function(){U(""),Y(!1)}),[]);return n.useEffect((function(){var e=!1;window.C=T.X.clone(),T.X.free([T.X("media")]),window.C.free([window.C("oneshot"),window.C("audio"),window.C("media"),window.C("stream"),window.C("mixer"),window.C("midi")]),T.X("mixer").resize(1024),T.X("oscillator").resize(1024),window.C("oscillator").resize(1024),T.X("oneshot").resize(1024),T.X("audio").resize(8192),T.X("stream").resize(512),T.X("oscillator").setup([!0,!0,!0,!0]),window.C("oscillator").setup([!1,!1,!1,!1]),T.X("audio").module("wah").param("auto",!0),T.X("audio").module("pitchshifter").state(!0),T.X("stream").module("pitchshifter").state(!0);T.X("stream").setup({audio:{autoGainControl:!0,echoCancellation:!0,noiseSuppression:!1},video:!1}),W.forEach((function(e){T.X(e).module("distortion").param("color",2e3),T.X(e).module("distortion").param("tone",4e3),T.X(e).module("chorus").param("tone",4e3),T.X(e).module("flanger").param("tone",4e3),T.X(e).module("delay").param("tone",4e3),T.X(e).module("reverb").param("tone",4e3),T.X(e).module("filter").param("frequency",8e3)})),window.C("oscillator").module("distortion").param("color",2e3),window.C("oscillator").module("distortion").param("tone",4e3),window.C("oscillator").module("chorus").param("tone",4e3),window.C("oscillator").module("flanger").param("tone",4e3),window.C("oscillator").module("delay").param("tone",4e3),window.C("oscillator").module("reverb").param("tone",4e3),window.C("oscillator").module("filter").param("frequency",8e3);for(var t=0,r=T.X("oscillator").length();t<r;t++)T.X("oscillator",t).param("type","sawtooth"),window.C("oscillator",t).param("type","sawtooth");try{T.X("oneshot").setup({resources:J,settings:ae(),timeout:x.AJAX_TIMEOUT,success:function(){e||(0===$.length?o(!1):re(e))},error:function(){e||(U("The loading of audio files failed."),G(!0))}})}catch(e){U(e.message),G(!0)}return a(!0),function(){e=!0}}),[W,J,$.length,ae,re]),n.default.createElement(n.default.Fragment,null,n.default.createElement(d.Header,{progress:l,rate:D}),n.default.createElement("main",null,n.default.createElement(s.Flexbox,null,n.default.createElement(f.OscillatorFieldset,{oscillatorNumber:0,label:"Oscillator - 1",radioName:"oscillator-type-0"}),n.default.createElement(f.OscillatorFieldset,{oscillatorNumber:1,label:"Oscillator - 2",radioName:"oscillator-type-1"}),n.default.createElement(m.EnvelopeGeneratorFieldset,null),n.default.createElement(p.RecorderFieldset,{loadedApp:t,sources:W}),n.default.createElement(h.AudioFieldset,{loadedApp:t})),n.default.createElement(b.Analyser,{loadedApp:t,sources:W}),n.default.createElement(v.MML,{loadedApp:t,currentSoundSource:z}),n.default.createElement(w.BasicControllers,{sources:W,currentSoundSource:z}),n.default.createElement(_.Piano,{currentSoundSource:z}),n.default.createElement(s.Flexbox,null,n.default.createElement(c.VerticalBox,null,n.default.createElement(E.CompressorFieldset,{sources:W}),n.default.createElement(g.DistortionFieldset,{sources:W})),n.default.createElement(c.VerticalBox,null,n.default.createElement(M.WahFieldset,{sources:W}),n.default.createElement(y.EqualizerFieldset,{sources:W})),n.default.createElement(c.VerticalBox,null,n.default.createElement(C.FilterFieldset,{sources:W}),n.default.createElement(S.AutopanFieldset,{sources:W})),n.default.createElement(c.VerticalBox,null,n.default.createElement(O.TremoloFieldset,{sources:W}),n.default.createElement(k.RingModulatorFieldset,{sources:W}),n.default.createElement(A.PhaserFieldset,{sources:W})),n.default.createElement(c.VerticalBox,null,n.default.createElement(P.ChorusFieldset,{sources:W}),n.default.createElement(j.FlangerFieldset,{sources:W})),n.default.createElement(c.VerticalBox,null,n.default.createElement(N.DelayFieldset,{sources:W}),n.default.createElement(X.ReverbFieldset,{sources:W,rirInfos:$})))),n.default.createElement(F.Footer,null),n.default.createElement(i.Modal,{hasOverlay:!0,id:"modal-app-ajax",isShow:K,title:"Error",asAlert:!0,onClose:le},I),n.default.createElement(i.Modal,{hasOverlay:!0,id:"modal-app-decoding",isShow:H,title:"Error",asAlert:!0,onClose:oe},I))}},5458:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var l=r(a(7294));t.Button=function(e){var t=e.active,a=e.label,r=e.width,o=e.height,n=e.image,u=e.size,i=e.onClick;return l.default.createElement("button",{type:"button","aria-label":a,style:{width:r+"px",height:o+"px",backgroundImage:'url("'+n+'")',backgroundSize:u},className:"Button"+(t?" -active":""),onClick:i})}},7332:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=a(5458);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.Button}})},8472:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploader=void 0;var n=o(a(7294));t.FileUploader=function(e){var t=e.id,a=e.accept,r=e.disabled,l=e.placeholder,o=e.filename,u=e.drag,i=e.drop,s=e.tabIndex,c=e.onChange,d=e.onDragEnter,f=e.onDragOver,m=e.onDragLeave,p=e.onDrop,h=n.useRef(null),b=n.useCallback((function(){var e=h.current;null!==e&&(e.value="",e.click())}),[]);return n.default.createElement("div",{className:"FileUploader"+(u?" -drag":"")+(i?" -drop":""),onDragEnter:d,onDragOver:f,onDragLeave:m,onDrop:p},n.default.createElement("button",{type:"button","aria-controls":t,disabled:r,tabIndex:s,onClick:b},o||l),n.default.createElement("input",{type:"file",ref:h,id:t,accept:a,disabled:r,placeholder:l,tabIndex:-1,onChange:c}))}},870:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploader=void 0;var r=a(8472);Object.defineProperty(t,"FileUploader",{enumerable:!0,get:function(){return r.FileUploader}})},2371:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Flexbox=void 0;var l=r(a(7294));t.Flexbox=function(e){return l.default.createElement("div",{className:"Flexbox"},e.children)}},1046:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Flexbox=void 0;var r=a(2371);Object.defineProperty(t,"Flexbox",{enumerable:!0,get:function(){return r.Flexbox}})},2831:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GroupSelect=void 0;var l=r(a(7294));t.GroupSelect=function(e){var t=e.id,a=e.label,r=e.values,o=e.texts,n=e.groups,u=e.width,i=e.defaultValue,s=e.onChange;return l.default.createElement("div",{className:"GroupSelect",style:u?{width:u}:void 0},l.default.createElement("label",{htmlFor:t},a),l.default.createElement("select",{id:t,defaultValue:i,onChange:s},n.map((function(e,t){return l.default.createElement("optgroup",{key:t,label:e},r[e].map((function(t,a){return l.default.createElement("option",{key:t,value:t},o[e][a])})))}))))}},4610:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GroupSelect=void 0;var r=a(2831);Object.defineProperty(t,"GroupSelect",{enumerable:!0,get:function(){return r.GroupSelect}})},4020:function(e,t,a){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},r.apply(this,arguments)},l=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&l(t,e,a);return o(t,e),t},u=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]])}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var s=n(a(7294)),c=i(a(3935)),d=a(6694),f=function(e){var t=e.className,a=e.onClose,r=s.useCallback((function(e){a&&("Enter"!==e.nativeEvent.key&&13!==e.nativeEvent.keyCode||a(e))}),[a]);return a?s.default.createElement("div",{role:"button",tabIndex:0,className:t,onClick:a,onKeyDown:r}):s.default.createElement("div",{role:"presentation",className:t})},m=function(e){var t=e.id,a=e.isShow,r=e.hasOverlay,l=e.title,o=e.asAlert,n=e.children,u=e.onClose,i="label-"+t,c="describe-"+t;return s.useEffect((function(){var e=document.getElementById("app");if(null!==e){var t=function(e){return Array.from(document.querySelectorAll('[aria-hidden="true"]')).some((function(t){return t.contains(e)}))};if(a)Array.from(e.querySelectorAll(d.FOCUSABLE_ELEMENTS)).filter((function(e){return!t(e)&&"-1"!==e.getAttribute("tabindex")})).forEach((function(e){return e.setAttribute("tabindex","-1")}));else Array.from(e.querySelectorAll(d.FOCUSABLE_ELEMENTS)).filter((function(e){return!t(e)&&"-1"===e.getAttribute("tabindex")})).forEach((function(e){"switch"===e.getAttribute("role")?e.setAttribute("tabindex","0"):"checkbox"===e.getAttribute("type")||"file"===e.getAttribute("type")?e.setAttribute("tabindex","-1"):e.removeAttribute("tabindex")}))}}),[a]),s.default.createElement("div",{role:"dialog",tabIndex:-1,"aria-modal":a,"aria-labelledby":i,"aria-describedby":c,className:"Modal"+(a?" -show":"")},r?s.default.createElement(f,{className:"Modal__overlay",onClose:u}):null,s.default.createElement("div",{className:"Modal__inner"},u?s.default.createElement("button",{type:"button","aria-label":"Close modal",className:"Modal__closer",onClick:u},"X"):null,s.default.createElement("h2",{id:i,className:"Modal__title"},l),s.default.createElement("div",{role:o?"alert":void 0,id:c,className:"Modal__contents"},n)))};t.Modal=function(e){var t=e.children,a=u(e,["children"]);return c.default.createPortal(s.default.createElement(m,r({},a),t),document.body)}},6216:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=a(4020);Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return r.Modal}})},2330:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;var l=r(a(7294));t.ProgressBar=function(e){var t=e.rate,a=e.id,r=e.label,o="number"==typeof t,n="number"==typeof t?{width:(t<=100?t:100)+"%"}:{};return l.default.createElement("div",{className:"ProgressBar"},o&&r?l.default.createElement("p",{id:a,className:"ProgressBar__label"},r):null,l.default.createElement("div",{className:"ProgressBar__wrapper"},l.default.createElement("div",{role:"presentation",className:"ProgressBar__mask"}),o?l.default.createElement("div",{role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-labelledby":a,style:n,className:"ProgressBar__bar"}):l.default.createElement("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,style:n,className:"ProgressBar__bar -auto"})))}},3337:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;var r=a(2330);Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return r.ProgressBar}})},7795:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var l=r(a(7294));t.Select=function(e){var t=e.id,a=e.label,r=e.values,o=e.texts,n=e.disabled,u=e.width,i=e.defaultValue,s=e.tabIndex,c=e.onChange;return l.default.createElement("div",{className:"Select",style:u?{width:u}:void 0},l.default.createElement("label",{htmlFor:t},a),l.default.createElement("select",{id:t,disabled:n,defaultValue:i,tabIndex:s,onChange:c},r.map((function(e,t){return l.default.createElement("option",{key:e,value:e},o[t])}))))}},9383:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;var r=a(7795);Object.defineProperty(t,"Select",{enumerable:!0,get:function(){return r.Select}})},8459:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var l=r(a(7294));t.Slider=function(e){var t=e.value,a=e.min,r=e.max,o=e.step,n=e.tabIndex,u=e.onChange,i=(t-a)/(r-a),s=100*i;return l.default.createElement("div",{className:"Slider"},l.default.createElement("label",null,l.default.createElement("input",{type:"range",value:t,min:a,max:r,step:o,tabIndex:n,onChange:u}),l.default.createElement("div",{className:"Slider__value",style:{width:"calc("+s+"% - ("+i+" * 28px))"}})))}},7024:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=a(8459);Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return r.Slider}})},9462:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spacer=void 0;var l=r(a(7294));t.Spacer=function(e){var t=e.space,a="";switch(e.direction){case"top":a=t+"px 0 0 0";break;case"left":a="0 0 0 "+t+"px";break;case"right":a="0 "+t+"px 0 0";break;default:a="0 0 "+t+"px"}return l.default.createElement("div",{role:"presentation",style:{margin:a}})}},81:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Spacer=void 0;var r=a(9462);Object.defineProperty(t,"Spacer",{enumerable:!0,get:function(){return r.Spacer}})},8432:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var l=r(a(7294));t.Spinner=function(e){var t=e.value,a=e.min,r=e.max,o=e.step,n=e.id,u=e.tabIndex,i=e.onChange;return l.default.createElement("input",{type:"number",className:"Spinner",id:n,value:t,min:a,max:r,step:o,tabIndex:u,onChange:i})}},8241:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var r=a(8432);Object.defineProperty(t,"Spinner",{enumerable:!0,get:function(){return r.Spinner}})},960:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;var n=o(a(7294));t.Switch=function(e){var t=e.id,a=e.label,r=e.checked,l=e.controls,o=e.tabIndex,u=void 0===o?0:o,i=e.onChange,s=n.useRef(null),c=n.useCallback((function(e){var t=e.nativeEvent;if("Space"===t.code||13===t.keyCode){e.preventDefault();var a=s.current;if(null===a)return;a.click()}}),[]);return n.default.createElement("div",{role:"switch","aria-checked":r,tabIndex:u,className:"Switch"+(r?" -checked":""),onKeyDown:c},l?n.default.createElement("input",{type:"checkbox",ref:s,id:t,checked:r,"aria-controls":l,tabIndex:-1,onChange:i}):n.default.createElement("input",{type:"checkbox",ref:s,id:t,checked:r,tabIndex:-1,onChange:i}),n.default.createElement("label",{htmlFor:t},a,n.default.createElement("span",{role:"presentation"})))}},2412:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;var r=a(960);Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return r.Switch}})},9424:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalBox=void 0;var l=r(a(7294));t.VerticalBox=function(e){return l.default.createElement("div",{className:"VerticalBox"},e.children)}},7524:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalBox=void 0;var r=a(9424);Object.defineProperty(t,"VerticalBox",{enumerable:!0,get:function(){return r.VerticalBox}})},2960:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscillatorSelector=void 0;var l=r(a(7294));t.OscillatorSelector=function(e){var t=e.radioName,a=e.type,r=e.onChange,o=e.onChangeRadio;return l.default.createElement("form",{name:t,className:"OscillatorSelector",onChange:r},l.default.createElement("label",{className:"OscillatorSelector__sine"+("sine"===a?" -active":"")},l.default.createElement("input",{type:"radio",name:"radio-"+t,"aria-label":"sine",checked:"sine"===a,value:"sine",onChange:o})),l.default.createElement("label",{className:"OscillatorSelector__square"+("square"===a?" -active":"")},l.default.createElement("input",{type:"radio",name:"radio-"+t,"aria-label":"square",checked:"square"===a,value:"square",onChange:o})),l.default.createElement("label",{className:"OscillatorSelector__sawtooth"+("sawtooth"===a?" -active":"")},l.default.createElement("input",{type:"radio",name:"radio-"+t,"aria-label":"sawtooth",checked:"sawtooth"===a,value:"sawtooth",onChange:o})),l.default.createElement("label",{className:"OscillatorSelector__triangle"+("triangle"===a?" -active":"")},l.default.createElement("input",{type:"radio",name:"radio-"+t,"aria-label":"triangle",checked:"triangle"===a,value:"triangle",onChange:o})))}},698:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscillatorSelector=void 0;var r=a(2960);Object.defineProperty(t,"OscillatorSelector",{enumerable:!0,get:function(){return r.OscillatorSelector}})},1159:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectableModal=void 0;var l=r(a(7294)),o=a(6216);t.SelectableModal=function(e){var t=e.id,a=e.isShow,r=e.hasOverlay,n=e.title,u=e.first,i=e.second,s=e.children,c=e.onClose;return l.default.createElement("div",{className:"SelectableModal"},l.default.createElement(o.Modal,{id:t,isShow:a,hasOverlay:r,title:n,asAlert:!1,onClose:c},l.default.createElement("div",{className:"SelectableModal__contents"},s),l.default.createElement("div",{className:"SelectableModal__buttons"},l.default.createElement("button",{type:"button",onClick:u.action},u.label),l.default.createElement("button",{type:"button",onClick:i.action},i.label))))}},8804:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectableModal=void 0;var r=a(1159);Object.defineProperty(t,"SelectableModal",{enumerable:!0,get:function(){return r.SelectableModal}})},4623:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ValueController=void 0;var n=o(a(7294)),u=a(7024),i=a(8241);t.ValueController=function(e){var t=e.label,a=e.id,r=e.min,l=e.max,o=e.step,s=e.defaultValue,c=e.width,d=e.tabIndex,f=e.onChange,m=n.useState(s),p=m[0],h=m[1],b=n.useCallback((function(e){f(e),h(e.currentTarget.valueAsNumber)}),[f]);return n.useEffect((function(){"audio-fieldset-current-time"===a&&h(s)}),[a,s]),n.default.createElement("dl",{className:"ValueController",style:c?{width:c}:{width:"auto"}},n.default.createElement("dt",null,n.default.createElement("label",{htmlFor:a},t),n.default.createElement(i.Spinner,{id:a,value:p,min:r,max:l,step:o,tabIndex:d,onChange:b})),n.default.createElement("dd",null,n.default.createElement(u.Slider,{value:p,min:r,max:l,step:o,tabIndex:d,onChange:b})))}},5342:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueController=void 0;var r=a(4623);Object.defineProperty(t,"ValueController",{enumerable:!0,get:function(){return r.ValueController}})},1599:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Analyser=void 0;var n=o(a(7294)),u=a(8216),i=a(679),s=a(81),c=a(2412),d=a(5342),f=a(4262);t.Analyser=function(e){var t=e.loadedApp,a=e.sources,r=n.useRef(null),l=n.useRef(null),o=n.useRef(null),m=n.useRef(null),p=n.useState(!1),h=p[0],b=p[1],v=n.useState(!1),w=v[0],_=v[1],E=n.useState("00 : 00 - 00 : 00"),g=E[0],M=E[1],y=n.useState(!1),C=y[0],S=y[1],O=n.useState("left"),k=O[0],A=O[1],P=u.useSelector((function(e){return e.analyserState})),j=n.useCallback((function(){A("right"===k?"left":"right")}),[k]),N=n.useCallback((function(e){var t=e.currentTarget.checked;if(t)f.X("audio").module("analyser").domain("timeoverview",0).param("mode","sprite"),f.X("audio").module("analyser").domain("timeoverview",1).param("mode","sprite"),f.X("audio").param("loop",!0);else{var a=f.X("audio").param("currentTime"),r=f.X("audio").param("duration");f.X("audio").module("analyser").domain("timeoverview",0).param("mode","update"),f.X("audio").module("analyser").domain("timeoverview",1).param("mode","update"),f.X("audio").param("loop",!1),f.X("audio").stop().start(a,r)}_(t)}),[]),X=n.useCallback((function(e){var t=e.currentTarget.valueAsNumber;a.forEach((function(e){f.X(e).module("analyser").domain("time").param("interval",t>0?t:"auto"),f.X(e).module("analyser").domain("fft").param("interval",t>0?t:"auto")}))}),[a]),F=n.useCallback((function(e){a.forEach((function(t){f.X(t).module("analyser").param("smoothingTimeConstant",e.currentTarget.valueAsNumber)}))}),[a]);return n.useEffect((function(){if(t&&null!==r.current&&null!==l.current&&null!==o.current&&null!==m.current)if(h)a.forEach((function(e){f.X(e).module("analyser").domain("time").state(P),f.X(e).module("analyser").domain("fft").state(P)}));else{a.forEach((function(e){f.X(e).module("analyser").param({fftSize:2048,minDecibels:-100,maxDecibels:-30,smoothingTimeConstant:.8}),f.X(e).module("analyser").domain("time").setup(o.current).param({interval:0,shape:"line",wave:"rgba(0, 0, 255, 1.0)",grid:"rgba(255, 255, 255, 0.2)",font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:2,right:15,type:"uint"}),f.X(e).module("analyser").domain("fft").setup(m.current).param({interval:0,shape:"rect",wave:"gradient",grid:"rgba(255, 255, 255, 0.2)",grad:[{offset:0,color:"rgba(0, 128, 255, 1.0)"},{offset:1,color:"rgba(0,   0, 255, 1.0)"}],font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:1,right:15,type:"uint",size:256})}));var e={shape:"rect",wave:"gradient",grad:[{offset:0,color:"rgba(0, 128, 255, 1.0)"},{offset:1,color:"rgba(0,   0, 255, 1.0)"}],grid:"rgba(255, 255, 255, 0.2)",currentTime:"rgba(255, 255, 255, 0.1)",font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:.5,right:15},n=function(e,t,a,r,l){if("mousedown"!==e.type&&"touchstart"!==e.type)if("mousemove"!==e.type&&"touchmove"!==e.type){if("mouseup"===e.type||"touchend"===e.type){var o=l?a:t;switch(r){case"update":o>=0&&o<=f.X("audio").param("duration")&&(f.X("audio").module("analyser").domain("timeoverview",0).update(o),f.X("audio").module("analyser").domain("timeoverview",1).update(o),f.X("audio").param("currentTime",o));break;case"sprite":f.X("audio").stop().start(t,a)}S(!1)}}else{var n=f.X.convertTime(t),u=f.X.convertTime(a);M(i.formatAudioTime(n)+" - "+i.formatAudioTime(u))}else S(!0)};f.X("audio").module("analyser").domain("timeoverview",0).setup(r.current).state(!0).param(e).drag(n),f.X("audio").module("analyser").domain("timeoverview",1).setup(l.current).state(!0).param(e).drag(n),b(!0)}}),[t,h,P,a]),n.default.createElement("div",{id:"analyser-fieldset","aria-hidden":!P,className:"Analyser"+(P?" -active":"")},n.default.createElement("div",{className:"Analyser__canvas"},n.default.createElement("dl",null,n.default.createElement("dt",null,n.default.createElement("label",null,n.default.createElement("button",{type:"button",className:"Analyser__channelSelector -"+k,"aria-label":"Select Channel",tabIndex:P?0:-1,onClick:j}),"Time Overview [",k,"]"),C?n.default.createElement("span",{className:"Analyser__dragTime"},g):null),n.default.createElement("dd",{hidden:"right"===k},n.default.createElement("canvas",{ref:r,width:"1200",height:"120"})),n.default.createElement("dd",{hidden:"left"===k},n.default.createElement("canvas",{ref:l,width:"1200",height:"120"}))),n.default.createElement("dl",null,n.default.createElement("dt",null,"Time Domain"),n.default.createElement("dd",null,n.default.createElement("canvas",{ref:o,width:"420",height:"120"}))),n.default.createElement("dl",null,n.default.createElement("dt",null,"Frequency Domain"),n.default.createElement("dd",null,n.default.createElement("canvas",{ref:m,width:"420",height:"120"})))),n.default.createElement("div",{className:"Analyser__controllers"},n.default.createElement(c.Switch,{label:"Audio Sprite",id:"analyser-audio-sprite-mode",checked:w,tabIndex:P?0:-1,onChange:N}),n.default.createElement(s.Spacer,{direction:"right",space:12}),n.default.createElement(d.ValueController,{label:"Interval",id:"analyser-interval",defaultValue:0,min:0,max:1e3,step:10,width:"20%",tabIndex:P?0:-1,onChange:X}),n.default.createElement(s.Spacer,{direction:"right",space:12}),n.default.createElement(d.ValueController,{label:"Smoothing",id:"analyser-smoothing",defaultValue:.8,min:0,max:1,step:.05,width:"20%",tabIndex:P?0:-1,onChange:F})))}},5599:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Analyser=void 0;var r=a(1599);Object.defineProperty(t,"Analyser",{enumerable:!0,get:function(){return r.Analyser}})},5477:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFieldset=void 0;var n=o(a(7294)),u=a(679),i=a(81),s=a(870),c=a(7332),d=a(3337),f=a(6216),m=a(5342),p=a(4262);t.AudioFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useState(""),o=l[0],h=l[1],b=n.useState(!0),v=b[0],w=b[1],_=n.useState(0),E=_[0],g=_[1],M=n.useState(0),y=M[0],C=M[1],S=n.useState(!1),O=S[0],k=S[1],A=n.useState(!1),P=A[0],j=A[1],N=n.useState(!1),X=N[0],F=N[1],x=n.useState(0),T=x[0],B=x[1],D=n.useState(0),R=D[0],V=D[1],I=n.useState(""),U=I[0],L=I[1],K=n.useState(!1),G=K[0],q=K[1],H=n.useState(!1),Y=H[0],z=H[1],W=n.useState(!1),J=W[0],$=W[1],Q=n.useState(!1),Z=Q[0],ee=Q[1],te=n.useCallback((function(){F(!0),B(0),V(0),$(!1),ee(!0)}),[]),ae=n.useCallback((function(e){var t={event:e.nativeEvent,type:"ArrayBuffer",success:function(e,t){p.X("audio").ready(t),e.currentTarget.value=""},error:function(e){L(e.message),q(!0)},progress:function(e){var t=e,a=t.lengthComputable,r=t.loaded,l=t.total;F(a),B(r),V(a&&l>0?Math.floor(r/l*100):0),$(!0)}};try{var a=p.X.file(t);h(a.name)}catch(e){L(e.message),q(!0)}}),[]),re=n.useCallback((function(e){ae(e)}),[ae]),le=n.useCallback((function(e){e.preventDefault(),k(!0)}),[]),oe=n.useCallback((function(e){e.preventDefault(),k(!1)}),[]),ne=n.useCallback((function(e){e.preventDefault()}),[]),ue=n.useCallback((function(e){e.preventDefault(),ae(e),k(!1),j(!0)}),[ae]),ie=n.useCallback((function(){p.X("audio").isBuffer()&&(p.X("audio").isPaused()?(p.X("audio").start(p.X("audio").param("currentTime")),w(!1)):(p.X("audio").stop(),w(!0)))}),[]),se=n.useCallback((function(e){p.X("audio").param("currentTime",e.currentTarget.valueAsNumber)}),[]),ce=n.useCallback((function(e){p.X("audio").module("pitchshifter").param("pitch",e.currentTarget.valueAsNumber),p.X("stream").module("pitchshifter").param("pitch",e.currentTarget.valueAsNumber)}),[]),de=n.useCallback((function(e){p.X("audio").module("vocalcanceler").param("depth",e.currentTarget.valueAsNumber)}),[]),fe=n.useCallback((function(){q(!1),z(!1)}),[]),me=n.useCallback((function(e){C(e.duration),ee(!1)}),[]),pe=n.useCallback((function(){p.X("audio").module("recorder").start()}),[]),he=n.useCallback((function(){}),[]),be=n.useCallback((function(e,t){null!==e.buffer&&(Math.floor(t*e.buffer.sampleRate)%(e.buffer.sampleRate/100)==0&&g(t))}),[]),ve=n.useCallback((function(){w(!0),g(0),p.X("audio").module("analyser").domain("timeoverview",0).update(0),p.X("audio").module("analyser").domain("timeoverview",1).update(0)}),[]),we=n.useCallback((function(e){L(e.message),z(!0)}),[]),_e=n.useMemo((function(){return p.X.convertTime(E)}),[E]),Ee=n.useMemo((function(){return p.X.convertTime(y)}),[y]),ge=n.useMemo((function(){return""+u.formatAudioTime(_e)}),[_e]),Me=n.useMemo((function(){return""+u.formatAudioTime(Ee)}),[Ee]);return n.useEffect((function(){e.loadedApp&&!a&&(p.X("audio").setup({decode:te,ready:me,start:pe,stop:he,update:be,ended:ve,error:we}),r(!0))}),[e.loadedApp,a,te,me,pe,he,be,ve,we]),n.default.createElement("div",{className:"AudioFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,"Audio"),n.default.createElement("div",{className:"AudioFieldset__selectAudio"},n.default.createElement(s.FileUploader,{id:"uploader-audio",accept:"audio/*, audio/mpeg, audio/ogg",disabled:!1,placeholder:"Audio File (wav, ogg, mp3 ... etc)",filename:o,drag:O,drop:P,onChange:re,onDragEnter:le,onDragOver:oe,onDragLeave:ne,onDrop:ue}),n.default.createElement(c.Button,{active:!v,label:v?"Start Audio":"Stop Audio",width:70,height:33,image:"/assets/images/button-audio.png",size:"70px 99px",onClick:ie})),n.default.createElement(m.ValueController,{label:ge+" / "+Me,id:"audio-fieldset-current-time",defaultValue:Math.floor(E),min:0,max:y>0?y:0,step:1,onChange:se}),n.default.createElement(i.Spacer,{space:8}),n.default.createElement(m.ValueController,{label:"Pitch Shifter",id:"audio-fieldset-pitch",defaultValue:1,min:.05,max:4,step:.05,onChange:ce}),n.default.createElement(i.Spacer,{space:8}),n.default.createElement(m.ValueController,{label:"Vocal Canceler",id:"audio-fieldset-vocal-canceler",defaultValue:0,min:0,max:1,step:.05,onChange:de})),n.default.createElement(f.Modal,{hasOverlay:!0,id:"modal-audio-file-upload-error",isShow:G,title:"Error",asAlert:!0,onClose:fe},U),n.default.createElement(f.Modal,{hasOverlay:!0,id:"modal-audio-decoding-error",isShow:Y,title:"Error",asAlert:!0,onClose:fe},U),n.default.createElement(f.Modal,{hasOverlay:!0,id:"modal-audio-progress",isShow:J,title:"Progress ...",asAlert:!1},X?n.default.createElement(d.ProgressBar,{id:"progress-bar-read-audio",label:T+" bytes ("+R+" %)",rate:R}):null),n.default.createElement(f.Modal,{hasOverlay:!0,id:"modal-audio-decoding",isShow:Z,title:"Decoding ...",asAlert:!1},X?n.default.createElement(d.ProgressBar,null):null))}},5712:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFieldset=void 0;var r=a(5477);Object.defineProperty(t,"AudioFieldset",{enumerable:!0,get:function(){return r.AudioFieldset}})},2047:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AutopanFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.AutopanFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("autopanner").state(a)})),window.C("oscillator").module("autopanner").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("autopanner").param("depth",a)})),window.C("oscillator").module("autopanner").param("depth",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("autopanner").param("rate",a)})),window.C("oscillator").module("autopanner").param("rate",a)}),[e.sources]);return n.default.createElement("div",{className:"AutopanFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"autopan-state",label:"Autopan",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Depth",id:"autopan-depth",defaultValue:0,min:0,max:1,step:.05,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Rate",id:"autopan-rate",defaultValue:0,min:0,max:1,step:.05,onChange:d}),n.default.createElement(u.Spacer,{space:8})))}},9215:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AutopanFieldset=void 0;var r=a(2047);Object.defineProperty(t,"AutopanFieldset",{enumerable:!0,get:function(){return r.AutopanFieldset}})},9222:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicControllers=void 0;var n=o(a(7294)),u=a(8216),i=a(5584),s=a(2412),c=a(9383),d=a(6216),f=a(5342),m=a(6694),p=a(4262);t.BasicControllers=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useState(!1),o=l[0],h=l[1],b=n.useState(""),v=b[0],w=b[1],_=n.useState(!1),E=_[0],g=_[1],M=u.useDispatch(),y=n.useMemo((function(){return[]}),[]),C=n.useMemo((function(){switch(e.currentSoundSource){case"oscillator":return"oscillator";case"piano":case"guitar":case"electric-guitar":return"oneshot";default:return"noise"}}),[e.currentSoundSource]),S=n.useMemo((function(){switch(e.currentSoundSource){default:return 0;case"guitar":return m.NUMBER_OF_ONESHOTS;case"electric-guitar":return m.NUMBER_OF_ONESHOTS+m.NUMBER_OF_ONESHOTS}}),[e.currentSoundSource]),O=n.useCallback((function(e,t){if(!(e<21||e>108||t<0||t>127)){var a=e-21,r=t/127;if(y.push(a),"noise"===C)p.X("noise").start(),p.X("noise").module("recorder").start(),p.X("noise").module("session").start();else if("oscillator"===C){for(var l=0,o=p.X("oscillator").length();l<o;l++)0!==l&&(p.X("oscillator").get(l).state(!0),window.C("oscillator").get(l).state(!0)),p.X("oscillator").get(l).param("volume",r),window.C("oscillator").get(l).param("volume",r);p.X("oscillator").ready(0,0).start(p.X.toFrequencies(y)),window.C("oscillator").ready(0,0).start(p.X.toFrequencies(y)),p.X("mixer").mix([p.X("oscillator"),window.C("oscillator")]),p.X("mixer").module("recorder").start(),p.X("mixer").module("session").start()}else p.X("oneshot").reset(a,"volume",r).ready(0,0).start(a+S),p.X("oneshot").module("recorder").start(),p.X("oneshot").module("session").start();M(i.activateMIDIKeyboards(y))}}),[M,C,y,S]),k=n.useCallback((function(e,t){if(!(e<21||e>108||t<0||t>127)){var a=e-21,r=y.indexOf(a);if(-1!==r&&y.splice(r,1),"noise"===C)p.X("noise").start(),p.X("noise").module("recorder").start(),p.X("noise").module("session").start();else if("oscillator"===C){p.X("oscillator").stop(),window.C("oscillator").stop();for(var l=0,o=p.X("oscillator").length();l<o;l++)0!==l&&(p.X("oscillator").get(l).state(!1),window.C("oscillator").get(l).state(!1))}else p.X("oneshot").stop(a+S).reset(a,"volume",1);M(i.activateMIDIKeyboards(y))}}),[M,C,y,S]),A=n.useCallback((function(e,t,a){t.length>0&&(t[0].onmidimessage=function(e){switch(240&e.data[0]){case 144:O(e.data[1],e.data[2]);break;case 128:k(e.data[1],e.data[2])}}),a.length}),[O,k]),P=n.useCallback((function(t){e.sources.forEach((function(e){var a=t.currentTarget.valueAsNumber;null!==p.X(e)&&p.X(e).param("mastervolume",a),null!==window.C(e)&&window.C(e).param("mastervolume",a)}))}),[e.sources]),j=n.useCallback((function(e){var t=e.currentTarget.valueAsNumber;p.X("oscillator").module("glide").param("time",t),window.C("oscillator").module("glide").param("time",t)}),[]),N=n.useCallback((function(e){p.X("oneshot").param("transpose",(e.currentTarget.valueAsNumber+12)/12)}),[]),X=n.useCallback((function(t){e.sources.forEach((function(e){p.X(e).module("analyser").stop("time").domain("time").clear(),p.X(e).module("analyser").stop("fft").domain("fft").clear()}));var a=t.currentTarget.value;switch(M(i.changeCurrentSoundSource(a)),p.X("stream").clear(),a){case"stream":p.X("stream").ready().then((function(){p.X("stream").start(),p.X("stream").module("session").start()})).catch((function(e){}));break;case"midi":try{p.X("midi").setup(!0,(function(e,t,a){A(e,t,a)}),(function(){w("Cannot use Web MIDI API."),g(!0)}))}catch(e){w(e.message),g(!0)}}}),[e.sources,M,A]),F=n.useCallback((function(e){M(i.changeAnalyserState(e.currentTarget.checked)),r(!a)}),[M,a]),x=n.useCallback((function(e){M(i.changeMMLState(e.currentTarget.checked)),h(!o)}),[M,o]),T=n.useCallback((function(){w(""),g(!1)}),[]);return n.default.createElement("div",{className:"BasicControllers"},n.default.createElement(f.ValueController,{label:"Master Volume",id:"master-volume",defaultValue:1,min:0,max:1,step:.05,width:"20%",onChange:P}),n.default.createElement(f.ValueController,{label:"Glide",id:"glide",defaultValue:0,min:0,max:1,step:.05,width:"20%",onChange:j}),n.default.createElement(f.ValueController,{label:"Transpose",id:"transpose",defaultValue:0,min:-6,max:6,step:1,width:"20%",onChange:N}),n.default.createElement(c.Select,{id:"select-sound-source",label:"Select Sound Source",values:["oscillator","piano","guitar","electric-guitar","whitenoise","pinknoise","browniannoise","stream","midi"],texts:["oscillator","piano","A. guitar","E. guitar","white noise","pink noise","brownian noise","microphone","MIDI"],disabled:!1,width:"20%",onChange:X}),n.default.createElement(s.Switch,{id:"analyser",label:"Analyser",checked:a,controls:"analyser-fieldset",onChange:F}),n.default.createElement(s.Switch,{id:"mml",label:"MML",checked:o,controls:"mml-fieldset",onChange:x}),n.default.createElement(d.Modal,{hasOverlay:!0,id:"modal-basic-midi-error",isShow:E,title:"Error",asAlert:!0,onClose:T},v))}},4543:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicControllers=void 0;var r=a(9222);Object.defineProperty(t,"BasicControllers",{enumerable:!0,get:function(){return r.BasicControllers}})},5422:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ChorusFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.ChorusFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("chorus").state(a)})),window.C("oscillator").module("chorus").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber/1e3;e.sources.forEach((function(e){c.X(e).module("chorus").param("time",a)})),window.C("oscillator").module("chorus").param("time",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("chorus").param("depth",a)})),window.C("oscillator").module("chorus").param("depth",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("chorus").param("rate",a)})),window.C("oscillator").module("chorus").param("rate",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("chorus").param("mix",a)})),window.C("oscillator").module("chorus").param("mix",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("chorus").param("tone",a)})),window.C("oscillator").module("chorus").param("tone",a)}),[e.sources]);return n.default.createElement("div",{className:"ChorusFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"chorus-state",label:"Chorus",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Time",id:"chorus-time",defaultValue:0,min:0,max:50,step:1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Depth",id:"chorus-depth",defaultValue:0,min:0,max:1,step:.01,onChange:d}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Rate",id:"chorus-rate",defaultValue:0,min:0,max:1,step:.01,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Mix",id:"chorus-mix",defaultValue:0,min:0,max:1,step:.05,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Tone",id:"chorus-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:p}),n.default.createElement(u.Spacer,{space:8})))}},5507:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChorusFieldset=void 0;var r=a(5422);Object.defineProperty(t,"ChorusFieldset",{enumerable:!0,get:function(){return r.ChorusFieldset}})},8618:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CompressorFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.CompressorFieldset=function(e){var t=n.useState(!0),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("compressor").state(a)})),window.C("oscillator").module("compressor").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("compressor").param("threshold",a)})),window.C("oscillator").module("compressor").param("threshold",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("compressor").param("knee",a)})),window.C("oscillator").module("compressor").param("knee",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("compressor").param("ratio",a)})),window.C("oscillator").module("compressor").param("ratio",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("compressor").param("attack",a)})),window.C("oscillator").module("compressor").param("attack",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("compressor").param("release",a)})),window.C("oscillator").module("compressor").param("release",a)}),[e.sources]);return n.default.createElement("div",{className:"CompressorFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"compressor-state",label:"Compressor",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Threshold",id:"compressor-threshold",defaultValue:-24,min:-100,max:0,step:1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Knee",id:"compressor-knee",defaultValue:30,min:0,max:40,step:1,onChange:d}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Ratio",id:"compressor-ratio",defaultValue:12,min:1,max:20,step:1,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Attack",id:"compressor-attack",defaultValue:.003,min:0,max:1,step:.001,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Release",id:"compressor-release",defaultValue:.25,min:.01,max:1,step:.01,onChange:p}),n.default.createElement(u.Spacer,{space:8})))}},6166:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompressorFieldset=void 0;var r=a(8618);Object.defineProperty(t,"CompressorFieldset",{enumerable:!0,get:function(){return r.CompressorFieldset}})},2995:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DelayFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.DelayFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("delay").state(a)})),window.C("oscillator").module("delay").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber/1e3;e.sources.forEach((function(e){c.X(e).module("delay").param("time",a)})),window.C("oscillator").module("delay").param("time",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("delay").param("dry",a)})),window.C("oscillator").module("delay").param("dry",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("delay").param("wet",a)})),window.C("oscillator").module("delay").param("wet",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("delay").param("tone",a)})),window.C("oscillator").module("delay").param("tone",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("delay").param("feedback",a)})),window.C("oscillator").module("delay").param("feedback",a)}),[e.sources]);return n.default.createElement("div",{className:"DelayFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"delay-state",label:"Delay",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Time",id:"delay-time",defaultValue:0,min:0,max:1e3,step:1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Dry",id:"delay-dry",defaultValue:1,min:0,max:1,step:.05,onChange:d}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Wet",id:"delay-wet",defaultValue:0,min:0,max:1,step:.05,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Tone",id:"delay-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Feedback",id:"delay-feedback",defaultValue:0,min:0,max:.95,step:.05,onChange:p}),n.default.createElement(u.Spacer,{space:8})))}},7597:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DelayFieldset=void 0;var r=a(2995);Object.defineProperty(t,"DelayFieldset",{enumerable:!0,get:function(){return r.DelayFieldset}})},6360:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DistortionFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(9383),s=a(2412),c=a(5342),d=a(4262);t.DistortionFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){d.X(e).module("distortion").state(a)})),window.C("oscillator").module("distortion").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.value;e.sources.forEach((function(e){d.X(e).module("distortion").param("curve",a)})),window.C("oscillator").module("distortion").param("curve",a)}),[e.sources]),f=n.useCallback((function(t){var a=parseInt(t.currentTarget.value,10);e.sources.forEach((function(e){d.X(e).module("distortion").param("samples",a)})),window.C("oscillator").module("distortion").param("samples",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("distortion").param("amount",a)})),window.C("oscillator").module("distortion").param("amount",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("distortion").param("drive",a)})),window.C("oscillator").module("distortion").param("drive",a)}),[e.sources]),h=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("distortion").param("color",a)})),window.C("oscillator").module("distortion").param("color",a)}),[e.sources]),b=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("distortion").param("tone",a)})),window.C("oscillator").module("distortion").param("tone",a)}),[e.sources]);return n.default.createElement("div",{className:"DistortionFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(s.Switch,{id:"distortion-state",label:"Distortion",checked:a,onChange:l})),n.default.createElement(i.Select,{id:"select-distortion",label:"Select Distortion",values:["clean","crunch","overdrive","distortion","fuzz"],texts:["clean","crunch","overdrive","distortion","fuzz"],disabled:!1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(i.Select,{id:"select-curve-size",label:"Select Curve Size",values:["8","16","32","64","128","256","512","1024","2048","4096","8192","16384","32768","65536"],texts:["8","16","32","64","128","256","512","1024","2048","4096","8192","16384","32768","65536"],disabled:!1,onChange:f,defaultValue:"32768"}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Amount",id:"distortion-amount",defaultValue:.5,min:.05,max:.95,step:.05,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Drive",id:"distortion-drive",defaultValue:1,min:0,max:100,step:1,onChange:p}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Color",id:"distortion-color",defaultValue:2e3,min:20,max:2e3,step:1,onChange:h}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Tone",id:"distortion-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:b}),n.default.createElement(u.Spacer,{space:8})))}},5846:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DistortionFieldset=void 0;var r=a(6360);Object.defineProperty(t,"DistortionFieldset",{enumerable:!0,get:function(){return r.DistortionFieldset}})},9533:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvelopeGeneratorFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(5342),s=a(4262);t.EnvelopeGeneratorFieldset=function(){var e=n.useCallback((function(e){var t=e.currentTarget.valueAsNumber;s.X("oscillator").module("envelopegenerator").param("attack",t),window.C("oscillator").module("envelopegenerator").param("attack",t),s.X("oneshot").module("envelopegenerator").param("attack",t),s.X("noise").module("envelopegenerator").param("attack",t)}),[]),t=n.useCallback((function(e){var t=e.currentTarget.valueAsNumber;s.X("oscillator").module("envelopegenerator").param("decay",t),window.C("oscillator").module("envelopegenerator").param("decay",t),s.X("oneshot").module("envelopegenerator").param("decay",t),s.X("noise").module("envelopegenerator").param("decay",t)}),[]),a=n.useCallback((function(e){var t=e.currentTarget.valueAsNumber;s.X("oscillator").module("envelopegenerator").param("sustain",t),window.C("oscillator").module("envelopegenerator").param("sustain",t),s.X("oneshot").module("envelopegenerator").param("sustain",t),s.X("noise").module("envelopegenerator").param("sustain",t)}),[]),r=n.useCallback((function(e){var t=e.currentTarget.valueAsNumber;s.X("oscillator").module("envelopegenerator").param("release",t),window.C("oscillator").module("envelopegenerator").param("release",t),s.X("oneshot").module("envelopegenerator").param("release",t),s.X("noise").module("envelopegenerator").param("release",t)}),[]);return n.default.createElement("div",{className:"EnvelopeGeneratorFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,"Envelope Generator"),n.default.createElement(i.ValueController,{label:"Attack",id:"envelope-generator-attack",defaultValue:.01,min:0,max:1,step:.01,onChange:e}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(i.ValueController,{label:"Decay",id:"envelope-generator-decay",defaultValue:.3,min:0,max:1,step:.01,onChange:t}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(i.ValueController,{label:"Sustain",id:"envelope-generator-sustain",defaultValue:.5,min:0,max:1,step:.01,onChange:a}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(i.ValueController,{label:"Release",id:"envelope-generator-release",defaultValue:1,min:0,max:1,step:.01,onChange:r}),n.default.createElement(u.Spacer,{space:8})))}},5229:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnvelopeGeneratorFieldset=void 0;var r=a(9533);Object.defineProperty(t,"EnvelopeGeneratorFieldset",{enumerable:!0,get:function(){return r.EnvelopeGeneratorFieldset}})},6452:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.EqualizerFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.EqualizerFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("equalizer").state(a)})),window.C("oscillator").module("equalizer").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("equalizer").param("bass",a)})),window.C("oscillator").module("equalizer").param("bass",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("equalizer").param("middle",a)})),window.C("oscillator").module("equalizer").param("middle",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("equalizer").param("treble",a)})),window.C("oscillator").module("equalizer").param("treble",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("equalizer").param("presence",a)})),window.C("oscillator").module("equalizer").param("presence",a)}),[e.sources]);return n.default.createElement("div",{className:"EqualizerFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"equalizer-state",label:"Equalizer",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Bass",id:"equalizer-bass",defaultValue:0,min:-18,max:18,step:1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Middle",id:"equalizer-middle",defaultValue:0,min:-18,max:18,step:1,onChange:d}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Treble",id:"equalizer-treble",defaultValue:0,min:-18,max:18,step:1,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Presence",id:"equalizer-presence",defaultValue:0,min:-18,max:18,step:1,onChange:m}),n.default.createElement(u.Spacer,{space:8})))}},2040:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EqualizerFieldset=void 0;var r=a(6452);Object.defineProperty(t,"EqualizerFieldset",{enumerable:!0,get:function(){return r.EqualizerFieldset}})},7822:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FilterFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(9383),s=a(2412),c=a(5342),d=a(4262);t.FilterFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){d.X(e).module("filter").state(a)})),window.C("oscillator").module("filter").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.value;e.sources.forEach((function(e){d.X(e).module("filter").param("type",a)})),window.C("oscillator").module("filter").param("type",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("frequency",a)})),window.C("oscillator").module("filter").param("frequency",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("Q",a)})),window.C("oscillator").module("filter").param("Q",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("gain",a)})),window.C("oscillator").module("filter").param("gain",a)}),[e.sources]),h=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("attack",a)})),window.C("oscillator").module("filter").param("attack",a)}),[e.sources]),b=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("decay",a)})),window.C("oscillator").module("filter").param("decay",a)}),[e.sources]),v=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("sustain",a)})),window.C("oscillator").module("filter").param("sustain",a)}),[e.sources]),w=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("filter").param("release",a)})),window.C("oscillator").module("filter").param("release",a)}),[e.sources]);return n.default.createElement("div",{className:"FilterFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(s.Switch,{id:"filter-state",label:"Filter",checked:a,onChange:l})),n.default.createElement(i.Select,{id:"select-filter",label:"Select Filter",values:["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"],texts:["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"],disabled:!1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Frequency",id:"filter-frequency",defaultValue:8e3,min:20,max:22050,step:1,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Quality",id:"filter-quality",defaultValue:1,min:1,max:20,step:1,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Gain",id:"filter-gain",defaultValue:0,min:-18,max:18,step:1,onChange:p}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Attack",id:"filter-attack",defaultValue:.01,min:0,max:1,step:.01,onChange:h}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Decay",id:"filter-decay",defaultValue:.3,min:0,max:1,step:.01,onChange:b}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Sustain",id:"filter-sustain",defaultValue:.5,min:0,max:1,step:.01,onChange:v}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Release",id:"filter-release",defaultValue:1,min:0,max:1,step:.01,onChange:w}),n.default.createElement(u.Spacer,{space:8})))}},5850:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterFieldset=void 0;var r=a(7822);Object.defineProperty(t,"FilterFieldset",{enumerable:!0,get:function(){return r.FilterFieldset}})},47:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FlangerFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.FlangerFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("flanger").state(a)})),window.C("oscillator").module("flanger").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber/1e3;e.sources.forEach((function(e){c.X(e).module("flanger").param("time",a)})),window.C("oscillator").module("flanger").param("time",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("flanger").param("depth",a)})),window.C("oscillator").module("flanger").param("depth",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("flanger").param("rate",a)})),window.C("oscillator").module("flanger").param("rate",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("flanger").param("mix",a)})),window.C("oscillator").module("flanger").param("mix",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("flanger").param("tone",a)})),window.C("oscillator").module("flanger").param("tone",a)}),[e.sources]),h=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("flanger").param("feedback",a)})),window.C("oscillator").module("flanger").param("feedback",a)}),[e.sources]);return n.default.createElement("div",{className:"FlangerFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"flanger-state",label:"Flanger",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Time",id:"flanger-time",defaultValue:0,min:0,max:10,step:.05,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Depth",id:"flanger-depth",defaultValue:0,min:0,max:1,step:.01,onChange:d}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Rate",id:"flanger-rate",defaultValue:0,min:0,max:10,step:.05,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Mix",id:"flanger-mix",defaultValue:0,min:0,max:1,step:.05,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Tone",id:"flanger-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:p}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Feedback",id:"flanger-feedback",defaultValue:0,min:0,max:.95,step:.05,onChange:h}),n.default.createElement(u.Spacer,{space:8})))}},7309:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlangerFieldset=void 0;var r=a(47);Object.defineProperty(t,"FlangerFieldset",{enumerable:!0,get:function(){return r.FlangerFieldset}})},7139:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var l=r(a(7294));t.Footer=function(){return l.default.createElement("footer",{className:"Footer"},l.default.createElement("p",null,"Copyright (c) 2012 ",l.default.createElement("a",{href:"https://korilakkuma.github.io/LIFE-with-FAVORITES/",target:"_blank",rel:"noopener noreferrer"},"Tomohiro IKEDA")),l.default.createElement("p",null,l.default.createElement("a",{href:"http://maoudamashii.jokersounds.com/",target:"_blank",rel:"noopener noreferrer",lang:"ja"},"音楽素材/魔王魂")))}},6412:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var r=a(7139);Object.defineProperty(t,"Footer",{enumerable:!0,get:function(){return r.Footer}})},9334:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var n=o(a(7294)),u=a(3337),i=a(6694);t.Header=function(e){var t=e.progress,a=e.rate,r=n.useRef(null),l=n.useState(!1),o=l[0],s=l[1],c=n.useState(!1),d=c[0],f=c[1],m=n.useCallback((function(){s(!0)}),[]),p=n.useCallback((function(e){"fade-out-header-animation"===e.nativeEvent.animationName&&f(!0)}),[]);return n.useEffect((function(){var e=document.getElementById("app");if(null!==e){var a=function(e){return Array.from(document.querySelectorAll('[aria-hidden="true"]')).some((function(t){return t.contains(e)}))};if(t||d){if(d){Array.from(e.querySelectorAll(i.FOCUSABLE_ELEMENTS)).filter((function(e){return null!==r.current&&!r.current.contains(e)&&!a(e)&&"-1"===e.getAttribute("tabindex")})).forEach((function(e){"switch"===e.getAttribute("role")?e.setAttribute("tabindex","0"):"checkbox"===e.getAttribute("type")||"file"===e.getAttribute("type")?e.setAttribute("tabindex","-1"):e.removeAttribute("tabindex")}))}}else Array.from(e.querySelectorAll(i.FOCUSABLE_ELEMENTS)).filter((function(e){return null!==r.current&&!r.current.contains(e)&&!a(e)&&"-1"!==e.getAttribute("tabindex")})).forEach((function(e){return e.setAttribute("tabindex","-1")}))}}),[t,d]),n.default.createElement("header",{ref:r,role:"dialog",hidden:d,"aria-modal":!d,"aria-labelledby":"header-label","aria-describedby":"header-describe",className:"Header"+(t?" -progress":" -fadeIn")+(o?" -fadeOut":""),onAnimationEnd:p},n.default.createElement("div",{hidden:t},n.default.createElement("div",{className:"Header__forkMeOnGitHub"},n.default.createElement("a",{href:"https://github.com/Korilakkuma/XSound.app",target:"_blank",rel:"noopener noreferrer"},"Fork me on GitHub")),n.default.createElement("div",null,n.default.createElement("h1",{id:"header-label",className:"Header__logo"},n.default.createElement("img",{src:"/assets/images/logo-v09.png",alt:"XSound.app",width:"200",height:"100"}),n.default.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),n.default.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),n.default.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),n.default.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),n.default.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"})),n.default.createElement("div",{id:"header-describe",className:"Header__intro"},n.default.createElement("span",{className:"Header__moveLeft"},"This application is created by ",n.default.createElement("strong",null,"Web Audio API"),". You can create sound or listen to audio or record sound or session."),n.default.createElement("span",{className:"Header__moveRight"},"The sound that can be created corresponds to 88 keyboards of Piano, and you can play the 2 sounds at the same time."),n.default.createElement("span",{className:"Header__moveLeft"},"Moreover, you can make effects to sound. Other, you can watch sound waves on time and frequency domain.")),n.default.createElement("nav",{className:"Header__startButton"},n.default.createElement("button",{type:"button",className:"",onClick:m},"Start Application")))),t?n.default.createElement(u.ProgressBar,{id:"progress-bar-load-assets",label:"Now Loading ... ("+a+" %)",rate:a}):null)}},7308:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r=a(9334);Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return r.Header}})},6926:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MML=void 0;var n=o(a(7294)),u=a(8216),i=a(5584),s=a(679),c=a(2412),d=a(9383),f=a(870),m=a(3337),p=a(6216),h=a(8804),b=a(6694),v=a(4262),w=/<span class="x-highlight">(.+?)<\/span>/g,_=["",""];t.MML=function(e){var t=e.loadedApp,a=e.currentSoundSource,r=n.useState(!1),l=r[0],o=r[1],E=n.useState(!0),g=E[0],M=E[1],y=n.useState(!1),C=y[0],S=y[1],O=n.useState(""),k=O[0],A=O[1],P=n.useState(""),j=P[0],N=P[1],X=n.useState(0),F=X[0],x=X[1],T=n.useState(0),B=T[0],D=T[1],R=n.useState(""),V=R[0],I=R[1],U=n.useState(""),L=U[0],K=U[1],G=n.useState(!1),q=G[0],H=G[1],Y=n.useState(!1),z=Y[0],W=Y[1],J=n.useState(!1),$=J[0],Q=J[1],Z=n.useState(0),ee=Z[0],te=Z[1],ae=n.useState(0),re=ae[0],le=ae[1],oe=n.useState(['{"melody":"","bass":""}']),ne=oe[0],ue=oe[1],ie=n.useState(["SAMPLE MML"]),se=ie[0],ce=ie[1],de=n.useState(""),fe=de[0],me=de[1],pe=n.useState(""),he=pe[0],be=pe[1],ve=n.useState(""),we=ve[0],_e=ve[1],Ee=n.useState(!1),ge=Ee[0],Me=Ee[1],ye=n.useState(!1),Ce=ye[0],Se=ye[1],Oe=n.useState(!1),ke=Oe[0],Ae=Oe[1],Pe=u.useDispatch(),je=u.useSelector((function(e){return e.mmlState})),Ne=n.useCallback((function(e,t){var r=e.replace(w,"$1"),l=t.replace(w,"$1");switch(a){case"oscillator":v.X("mml").ready(v.X("oscillator"),r),window.C("mml").ready(window.C("oscillator"),l);break;case"piano":v.X("mml").ready(v.X("oneshot"),r,0),window.C("mml").ready(v.X("oneshot"),l,0);break;case"guitar":v.X("mml").ready(v.X("oneshot"),r,b.NUMBER_OF_PIANO_KEYBOARDS),window.C("mml").ready(v.X("oneshot"),l,b.NUMBER_OF_PIANO_KEYBOARDS);break;case"electric-guitar":v.X("mml").ready(v.X("oneshot"),r,b.NUMBER_OF_PIANO_KEYBOARDS+b.NUMBER_OF_PIANO_KEYBOARDS),window.C("mml").ready(v.X("oneshot"),l,b.NUMBER_OF_PIANO_KEYBOARDS+b.NUMBER_OF_PIANO_KEYBOARDS);break;case"whitenoise":case"pinknoise":case"browniannoise":v.X("mml").ready(v.X("noise"),r),window.C("mml").ready(window.C("noise"),l)}}),[a]),Xe=n.useCallback((function(e){var t={event:e.nativeEvent,type:"JSON",success:function(e,t){e.currentTarget.value="";try{var a=JSON.parse(t);k||j?(_[0]=a.melody,_[1]=a.bass,Ae(!0)):(Ne(a.melody,a.bass),A(a.melody),N(a.bass)),Q(!1),Se(!1)}catch(e){}},error:function(e){Q(!1),me(e.message),Me(!0)},progress:function(e){var t=e,a=t.lengthComputable,r=t.loaded,l=t.total;Q(a),te(r),le(a&&l>0?Math.floor(r/l*100):0),Se(!0)}};try{var a=v.X.file(t);K(a.name)}catch(e){me(e.message),Me(!0)}}),[k,j,Ne]),Fe=n.useCallback((function(e){Pe(i.downMelodyKeyboards(e.indexes)),A(v.X("mml").get(0,!0))}),[Pe]),xe=n.useCallback((function(e){Pe(i.downBassKeyboards(e.indexes)),N(window.C("mml").get(0,!0))}),[Pe]),Te=n.useCallback((function(e){Pe(i.upMelodyKeyboards(e.indexes))}),[Pe]),Be=n.useCallback((function(e){Pe(i.upBassKeyboards(e.indexes))}),[Pe]),De=n.useCallback((function(){for(var e=0,t=v.X("oscillator").length();e<t;e++)0!==e&&(v.X("oscillator").get(e).state(!1),window.C("oscillator").get(e).state(!1));Pe(i.downMelodyKeyboards([])),Pe(i.downBassKeyboards([]));var a=v.X("mml").get(0,!0).replace(w,"$1"),r=window.C("mml").get(0,!0).replace(w,"$1");Ne(a,r),A(a),N(r),M(!0)}),[Pe,Ne]),Re=n.useCallback((function(e){switch(e){case"tempo":case"octave":case"note":case"rest":case"tie":be(e+" is invalid");break;default:be("MML is invalid")}}),[]),Ve=n.useCallback((function(e){switch(e){case"tempo":case"octave":case"note":case"rest":case"tie":_e(e+" is invalid");break;default:_e("MML is invalid")}}),[]),Ie=n.useCallback((function(e){if(null!==e.currentTarget&&null!==e.currentTarget.textContent){var t=e.currentTarget.textContent;A(t),M(!0)}}),[]),Ue=n.useCallback((function(e){if(null!==e.currentTarget&&null!==e.currentTarget.textContent){var t=e.currentTarget.textContent;N(t),M(!0)}}),[]),Le=n.useCallback((function(){if(g)if(be(""),_e(""),Ne(k,j),v.X("mml").currentIndex(0,F),window.C("mml").currentIndex(0,B),"oscillator"===a){for(var e=0,t=v.X("oscillator").length();e<t;e++)v.X("oscillator").get(e).state(!0),window.C("oscillator").get(e).state(!0);v.X("mml").start(0,!0),window.C("mml").start(0,!0),v.X("mixer").module("recorder").start()}else v.X("mml").start(0,!0),window.C("mml").start(0,!0),v.X("oneshot").module("recorder").start();else{x(v.X("mml").currentIndex(0)),D(window.C("mml").currentIndex(0)),v.X("mml").stop(),window.C("mml").stop();for(e=0,t=v.X("oscillator").length();e<t;e++)v.X("oscillator").get(e).state(!1),window.C("oscillator").get(e).state(!1)}M(!g)}),[a,g,k,j,F,B,Ne]),Ke=n.useCallback((function(){v.X("mml").stop(),window.C("mml").stop(),Pe(i.downMelodyKeyboards([])),Pe(i.downBassKeyboards([]));var e=k.replace(w,"$1"),t=j.replace(w,"$1");A(e),N(t),x(0),D(0),M(!0)}),[Pe,k,j]),Ge=n.useCallback((function(){var e=k.replace(w,"$1"),t=j.replace(w,"$1"),a=JSON.stringify({title:"",artist:"",description:"",melody:e,bass:t});I(v.X.toTextFile(a))}),[k,j]),qe=n.useCallback((function(e){S(e.currentTarget.checked)}),[]),He=n.useCallback((function(e){Xe(e)}),[Xe]),Ye=n.useCallback((function(e){e.preventDefault(),H(!0)}),[]),ze=n.useCallback((function(e){e.preventDefault()}),[]),We=n.useCallback((function(e){e.preventDefault(),H(!1)}),[]),Je=n.useCallback((function(e){e.preventDefault(),Xe(e),H(!1),W(!0)}),[Xe]),$e=n.useCallback((function(){Me(!1)}),[]),Qe=n.useCallback((function(){Ne(_[0],_[1]),A(_[0]),N(_[1]),Ae(!1)}),[Ne]),Ze=n.useCallback((function(){Ae(!1)}),[]),et=n.useCallback((function(e){var t=JSON.parse(e.currentTarget.value);A(t.melody),N(t.bass)}),[]);return n.useEffect((function(){if(t&&!l){var e=!1;return v.X("mml").setup({start:Fe,stop:Te,ended:De,error:Re}),window.C("mml").setup({start:xe,stop:Be,ended:De,error:Ve}),Promise.all([fetch("/assets/mmls/endless-rain.json"),fetch("/assets/mmls/forever-love.json"),fetch("/assets/mmls/tears.json")]).then((function(t){return e?Promise.reject():t.map((function(e){return e.json()}))})).then((function(t){e||t.forEach((function(e){e.then((function(e){var t=e.title,a=e.artist,r=e.melody,l=e.bass,o=0;switch(t){case"ENDLESS RAIN":o=1;break;case"Forever Love":o=2;break;case"Tears":o=3}ne[o]=JSON.stringify({melody:r,bass:l}),se[o]=t+" | "+a,4===ne.length&&4===se.length&&(ue(ne),ce(se))})).catch((function(e){}))}))})).catch((function(e){})).finally((function(){o(!0)})),function(){e=!0}}}),[t,l,k,j,ne,se,Ne,Fe,xe,Te,Be,De,Re,Ve]),n.default.createElement("div",{id:"mml-fieldset","aria-hidden":!je,className:"MML"+(je?" -active":"")},n.default.createElement("div",{className:"MML__editor"},n.default.createElement("dl",null,n.default.createElement("dt",null,"Melody",he?n.default.createElement("span",{className:"MML__error"},he):null),n.default.createElement("dd",{contentEditable:je&&g,dangerouslySetInnerHTML:{__html:k},"aria-disabled":!je||!g,className:C?"-highlight":"",onBlur:Ie})),n.default.createElement("dl",null,n.default.createElement("dt",null,"Bass",we?n.default.createElement("span",{className:"MML__error"},we):null),n.default.createElement("dd",{contentEditable:je&&g,dangerouslySetInnerHTML:{__html:j},"aria-disabled":!je||!g,className:C?"-highlight":"",onBlur:Ue}))),n.default.createElement("div",{className:"MML__controllers"},n.default.createElement("button",{type:"button",disabled:!k&&!j,"aria-label":g?"Start":"Pause",tabIndex:je?0:-1,className:"MML__controller"+(g?" -paused":""),onClick:Le}),n.default.createElement("button",{type:"button","aria-label":"Rewind",tabIndex:je?0:-1,className:"MML__rewinder",onClick:Ke}),n.default.createElement("a",{href:V,download:V?s.createFilename("mml-","json"):null,role:"button",tabIndex:je?0:-1,className:"MML__download",onClick:Ge},"Download"),n.default.createElement(c.Switch,{id:"mml-switch-highlight",label:"Highlight",checked:C,tabIndex:je?0:-1,onChange:qe}),n.default.createElement(f.FileUploader,{id:"uploader-mml",accept:"application/json",disabled:!g,placeholder:"MML JSON file",filename:L,drag:q,drop:z,tabIndex:je?0:-1,onChange:He,onDragEnter:Ye,onDragOver:ze,onDragLeave:We,onDrop:Je}),n.default.createElement(d.Select,{id:"select-mml",label:"Select Sample MML",values:ne,texts:se,disabled:!g,width:"200px",tabIndex:je?0:-1,onChange:et})),n.default.createElement(p.Modal,{id:"modal-mml-file-upload-error",hasOverlay:!0,isShow:ge,title:"Error",asAlert:!0,onClose:$e},fe),n.default.createElement(p.Modal,{id:"modal-mml-for-progress",hasOverlay:!0,isShow:Ce,title:"Progress ...",asAlert:!1},$?n.default.createElement(m.ProgressBar,{id:"progress-bar-read-mml",label:ee+" bytes ("+re+" %)",rate:re}):null),n.default.createElement(h.SelectableModal,{hasOverlay:!0,id:"modal-mml-confirmation",isShow:ke,title:"Confirmation",first:{label:"Cancel",action:Ze},second:{label:"OK",action:Qe},onClose:Ze},n.default.createElement("p",null,"Overwrite. OK ?")))}},2341:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MML=void 0;var r=a(6926);Object.defineProperty(t,"MML",{enumerable:!0,get:function(){return r.MML}})},5042:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OscillatorFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(698),c=a(5342),d=a(4262);t.OscillatorFieldset=function(e){var t=e.oscillatorNumber,a=e.label,r=e.radioName,l=n.useState(0===t),o=l[0],f=l[1],m=n.useState("sawtooth"),p=m[0],h=m[1],b=n.useCallback((function(e){for(var a=e.currentTarget.checked,r=0,l=d.X("oscillator").length();r<l;r++)0===t?(d.X("oscillator").get(r).state(a),f(a)):(window.C("oscillator").get(r).state(a),f(a))}),[t]),v=n.useCallback((function(e){var t=e.currentTarget.elements.namedItem("radio-"+r);if(t instanceof RadioNodeList){var a=t.value;"sine"!==a&&"square"!==a&&"sawtooth"!==a&&"triangle"!==a||h(a)}}),[r]),w=n.useCallback((function(e){for(var a=e.currentTarget.value,r=0,l=d.X("oscillator").length();r<l;r++)0===t?d.X("oscillator").get(r).param("type",a):window.C("oscillator").get(r).param("type",a)}),[t]),_=n.useCallback((function(e){for(var a=e.currentTarget.valueAsNumber,r=0,l=d.X("oscillator").length();r<l;r++)0===t?d.X("oscillator").get(r).param("volume",a):window.C("oscillator").get(r).param("volume",a)}),[t]),E=n.useCallback((function(e){for(var a=e.currentTarget.valueAsNumber,r=0,l=d.X("oscillator").length();r<l;r++)0===t?d.X("oscillator").get(r).param("octave",a):window.C("oscillator").get(r).param("octave",a)}),[t]),g=n.useCallback((function(e){for(var a=e.currentTarget.valueAsNumber,r=0,l=d.X("oscillator").length();r<l;r++)0===t?d.X("oscillator").get(r).param("fine",a):window.C("oscillator").get(r).param("fine",a)}),[t]);return n.default.createElement("div",{className:"OscillatorFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"oscillator-fieldset-state-"+t,label:a,checked:o,onChange:b})),n.default.createElement(u.Spacer,{space:2}),n.default.createElement(s.OscillatorSelector,{radioName:r,type:p,onChange:v,onChangeRadio:w}),n.default.createElement(u.Spacer,{space:16}),n.default.createElement(c.ValueController,{label:"Volume",id:"oscillator-fieldset-volume-"+t,defaultValue:1,min:0,max:1,step:.05,onChange:_}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Octave",id:"oscillator-fieldset-octave-"+t,defaultValue:0,min:-4,max:4,step:1,onChange:E}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Fine",id:"oscillator-fieldset-fine-"+t,defaultValue:0,min:-1200,max:1200,step:1,onChange:g})))}},9999:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscillatorFieldset=void 0;var r=a(5042);Object.defineProperty(t,"OscillatorFieldset",{enumerable:!0,get:function(){return r.OscillatorFieldset}})},2528:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PhaserFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(9383),s=a(2412),c=a(5342),d=a(4262);t.PhaserFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){d.X(e).module("phaser").state(a)})),window.C("oscillator").module("phaser").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=parseInt(t.currentTarget.value,10);e.sources.forEach((function(e){d.X(e).module("phaser").param("stage",a)})),window.C("oscillator").module("phaser").param("stage",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("phaser").param("frequency",a)})),window.C("oscillator").module("phaser").param("frequency",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("phaser").param("depth",a)})),window.C("oscillator").module("phaser").param("depth",a)}),[e.sources]),p=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("phaser").param("rate",a)})),window.C("oscillator").module("phaser").param("rate",a)}),[e.sources]),h=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("phaser").param("mix",a)})),window.C("oscillator").module("phaser").param("mix",a)}),[e.sources]),b=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){d.X(e).module("phaser").param("feedback",a)})),window.C("oscillator").module("phaser").param("feedback",a)}),[e.sources]);return n.default.createElement("div",{className:"PhaserFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(s.Switch,{id:"phaser-state",label:"Phaser",checked:a,onChange:l})),n.default.createElement(i.Select,{id:"select-phaser-stages",label:"Select Phaser Stages",values:["0","2","4","8","12","24"],texts:["all-pass filter","2 stages","4 stages","8 stages","12 stages","24 stages"],disabled:!1,onChange:o,defaultValue:"12"}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Frequency",id:"phaser-frequency",defaultValue:350,min:350,max:8e3,step:1,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Depth",id:"phaser-depth",defaultValue:0,min:0,max:.9,step:.05,onChange:m}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Rate",id:"phaser-rate",defaultValue:0,min:0,max:5,step:.05,onChange:p}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Mix",id:"phaser-mix",defaultValue:0,min:0,max:1,step:.05,onChange:h}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Feedback",id:"phaser-feedback",defaultValue:0,min:0,max:.95,step:.05,onChange:b}),n.default.createElement(u.Spacer,{space:8})))}},7265:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhaserFieldset=void 0;var r=a(2528);Object.defineProperty(t,"PhaserFieldset",{enumerable:!0,get:function(){return r.PhaserFieldset}})},4658:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},n=this&&this.__spreadArray||function(e,t){for(var a=0,r=t.length,l=e.length;a<r;a++,l++)e[l]=t[a];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Piano=void 0;var u=o(a(7294)),i=a(8216),s=a(6694),c=a(4262);t.Piano=function(e){var t=u.useState(new Array(s.NUMBER_OF_PIANO_KEYBOARDS).fill(!1)),a=t[0],r=t[1],l=u.useState(!1),o=l[0],d=l[1],f=i.useSelector((function(e){return e.downMelodyKeyboardIndexes})),m=i.useSelector((function(e){return e.downBassKeyboardIndexes})),p=i.useSelector((function(e){return e.upMelodyKeyboardIndexes})),h=i.useSelector((function(e){return e.upBassKeyboardIndexes})),b=i.useSelector((function(e){return e.activeMIDIKeyboardIndexes})),v=u.useCallback((function(t){if(!t.currentTarget.classList.contains("skip")&&!("code"in t.nativeEvent&&"Enter"===t.nativeEvent.code||"keyCode"in t.nativeEvent&&13===t.nativeEvent.keyCode)){var l=t.currentTarget.getAttribute("data-index");if(null!==l){var u=parseInt(l,10);if("mouseover"!==t.type&&"touchmove"!==t.type||o){switch(e.currentSoundSource){case"oscillator":c.X("oscillator").ready(0,0).start(c.X.toFrequencies(u)),window.C("oscillator").ready(0,0).start(c.X.toFrequencies(u)),c.X("mixer").mix([c.X("oscillator"),window.C("oscillator")]),c.X("mixer").module("recorder").start(),c.X("mixer").module("session").start();break;case"piano":c.X("oneshot").ready(0,0).start(u),c.X("oneshot").module("recorder").start(),c.X("oneshot").module("session").start();break;case"guitar":c.X("oneshot").ready(0,0).start(u+s.NUMBER_OF_PIANO_KEYBOARDS),c.X("oneshot").module("recorder").start(),c.X("oneshot").module("session").start();break;case"electric-guitar":c.X("oneshot").ready(0,0).start(u+s.NUMBER_OF_PIANO_KEYBOARDS+s.NUMBER_OF_PIANO_KEYBOARDS),c.X("oneshot").module("recorder").start(),c.X("oneshot").module("session").start();break;case"whitenoise":c.X("noise").param("type","whitenoise").start(),c.X("noise").module("recorder").start(),c.X("noise").module("session").start();break;case"pinknoise":c.X("noise").param("type","pinknoise").start(),c.X("noise").module("recorder").start(),c.X("noise").module("session").start();break;case"browniannoise":c.X("noise").param("type","browniannoise").start(),c.X("noise").module("recorder").start(),c.X("noise").module("session").start()}a[u]=!0,r(n([],a)),d(!0)}}}}),[e.currentSoundSource,a,o]),w=u.useCallback((function(t){if(!t.currentTarget.classList.contains("skip")&&!("code"in t.nativeEvent&&"Enter"===t.nativeEvent.code||"keyCode"in t.nativeEvent&&13===t.nativeEvent.keyCode)){t.stopPropagation();var l=t.currentTarget.getAttribute("data-index");if(null!==l){var o=parseInt(l,10);switch(e.currentSoundSource){case"oscillator":c.X("oscillator").stop(),window.C("oscillator").stop();break;case"piano":c.X("oneshot").stop(o);break;case"guitar":c.X("oneshot").stop(o+s.NUMBER_OF_PIANO_KEYBOARDS);break;case"electric-guitar":c.X("oneshot").stop(o+s.NUMBER_OF_PIANO_KEYBOARDS+s.NUMBER_OF_PIANO_KEYBOARDS);break;default:c.X("noise").stop()}a[o]=!1,r(n([],a)),"mouseup"!==t.type&&"touchend"!==t.type||d(!1)}}}),[e.currentSoundSource,a]),_=u.useMemo((function(){return{"A-4":0,"A-4h":1,"B-4":2,"C-3":3,"C-3h":4,"D-3":5,"D-3h":6,"E-3":7,"F-3":8,"F-3h":9,"G-3":10,"G-3h":11,"A-3":12,"A-3h":13,"B-3":14,"C-2":15,"C-2h":16,"D-2":17,"D-2h":18,"E-2":19,"F-2":20,"F-2h":21,"G-2":22,"G-2h":23,"A-2":24,"A-2h":25,"B-2":26,"C-1":27,"C-1h":28,"D-1":29,"D-1h":30,"E-1":31,"F-1":32,"F-1h":33,"G-1":34,"G-1h":35,"A-1":36,"A-1h":37,"B-1":38,C:39,Ch:40,D:41,Dh:42,E:43,F:44,Fh:45,G:46,Gh:47,A:48,Ah:49,B:50,C1:51,C1h:52,D1:53,D1h:54,E1:55,F1:56,F1h:57,G1:58,G1h:59,A1:60,A1h:61,B1:62,C2:63,C2h:64,D2:65,D2h:66,E2:67,F2:68,F2h:69,G2:70,G2h:71,A2:72,A2h:73,B2:74,C3:75,C3h:76,D3:77,D3h:78,E3:79,F3:80,F3h:81,G3:82,G3h:83,A3:84,A3h:85,B3:86,C4:87}}),[]),E=u.useMemo((function(){return["A-4","B-4","C-3","D-3","E-3","F-3","G-3","A-3","B-3","C-2","D-2","E-2","F-2","G-2","A-2","B-2","C-1","D-1","E-1","F-1","G-1","A-1","B-1","C","D","E","F","G","A","B","C1","D1","E1","F1","G1","A1","B1","C2","D2","E2","F2","G2","A2","B2","C3","D3","E3","F3","G3","A3","B3","C4"]}),[]),g=u.useMemo((function(){return["A-4h","skip0","C-3h","D-3h","skip1","F-3h","G-3h","A-3h","skip2","C-2h","D-2h","skip3","F-2h","G-2h","A-2h","skip4","C-1h","D-1h","skip5","F-1h","G-1h","A-1h","skip6","Ch","Dh","skip7","Fh","Gh","Ah","skip8","C1h","D1h","skip9","F1h","G1h","A1h","skip10","C2h","D2h","skip11","F2h","G2h","A2h","skip12","C3h","D3h","skip13","F3h","G3h","A3h"]}),[]);return u.default.createElement("div",{className:"Piano"},u.default.createElement("ul",{className:"Piano__whites"},E.map((function(e){var t=_[e],r=f.includes(t)&&!p.includes(t),l=m.includes(t)&&!h.includes(t),o=r||l,n=o||b.includes(t);return u.default.createElement("li",{key:e,className:"Piano__keyboard"+(a[t]||n?" -active":"")},u.default.createElement("button",{type:"button","aria-pressed":a[t]||o,"data-pitch":e,"data-index":_[e],onMouseDown:v,onTouchStart:v,onKeyDown:v,onMouseUp:w,onTouchEnd:w,onMouseOver:v,onTouchMove:v,onMouseOut:w,onKeyUp:w,onFocus:v,onBlur:w},e))}))),u.default.createElement("ul",{className:"Piano__blacks"},g.map((function(e){if(e.includes("skip"))return u.default.createElement("li",{key:e,className:"Piano__keyboard -skip","aria-label":"skip"});var t=_[e],r=f.includes(t)&&!p.includes(t),l=m.includes(t)&&!h.includes(t),o=r||l,n=o||b.includes(t);return u.default.createElement("li",{key:e,className:"Piano__keyboard"+(a[t]||n?" -active":"")},u.default.createElement("button",{type:"button","aria-pressed":a[t]||o,"data-pitch":e,"data-index":_[e],onMouseDown:v,onTouchStart:v,onKeyDown:v,onMouseUp:w,onTouchEnd:w,onMouseOver:v,onTouchMove:v,onMouseOut:w,onKeyUp:w,onFocus:v,onBlur:w},e))}))))}},1905:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Piano=void 0;var r=a(4658);Object.defineProperty(t,"Piano",{enumerable:!0,get:function(){return r.Piano}})},5722:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RecorderFieldset=void 0;var n=o(a(7294)),u=a(679),i=a(81),s=a(9383),c=a(5342),d=a(8804),f=a(4262);t.RecorderFieldset=function(e){var t=e.loadedApp,a=e.sources,r=n.useState(-1),l=r[0],o=r[1],m=n.useState(""),p=m[0],h=m[1],b=n.useState(!1),v=b[0],w=b[1],_=n.useState(!1),E=_[0],g=_[1],M=n.useState(!1),y=M[0],C=M[1],S=a.some((function(e){return f.X(e).module("recorder").has()})),O=n.useCallback((function(){a.forEach((function(e){"oscillator"!==e&&(-1!==f.X(e).module("recorder").get()?(f.X(e).module("recorder").stop(),w(!1)):(f.X(e).module("recorder").ready(l),"stream"===e&&(f.X(e).start(),f.X(e).module("recorder").start()),w(!0)))}))}),[a,l]),k=n.useCallback((function(){w(!1);for(var e=0,t=a;e<t.length;e++){var r=t[e];if("oscillator"!==r){g(!0);var l=f.X(r).module("recorder").create(-1,2,16,"objectURL");if(l){var o=new Audio(l);return o.controls=!1,o.play(),h(l),void g(!1)}}}g(!1)}),[a]),A=n.useCallback((function(e){p&&!v||e.preventDefault()}),[p,v]),P=n.useCallback((function(){v||C(!0)}),[v]),j=n.useCallback((function(){a.forEach((function(e){"oscillator"!==e&&f.X(e).module("recorder").clear(l)})),C(!1)}),[a,l]),N=n.useCallback((function(){C(!1)}),[]),X=n.useCallback((function(e){if(!v){var t=parseInt(e.currentTarget.value,10);f.X("stream").stop(),f.X("stream").module("recorder").stop(),o(t)}}),[v]),F=n.useCallback((function(e){a.forEach((function(t){"oscillator"!==t&&f.X(t).module("recorder").param("left",e.currentTarget.valueAsNumber)}))}),[a]),x=n.useCallback((function(e){a.forEach((function(t){"oscillator"!==t&&f.X(t).module("recorder").param("right",e.currentTarget.valueAsNumber)}))}),[a]);return n.useEffect((function(){!t||l>-1||(a.forEach((function(e){"oscillator"!==e&&f.X(e).module("recorder").setup(4)})),o(0))}),[t,a,l]),n.default.createElement("div",{className:"RecorderFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,"Recorder"),n.default.createElement("div",{className:"RecorderFieldset__buttons"},n.default.createElement("button",{type:"button","aria-label":v?"Stop Recording":"Start Recording",className:"RecorderFieldset__controller"+(v?" -active":""),onClick:O}),n.default.createElement("button",{type:"button",disabled:v||!S,"aria-label":E?"Now creating WAVE file":"Create WAVE file",className:"RecorderFieldset__creator"+(E?" -active":""),onClick:k}),n.default.createElement("a",{href:p,download:p?u.createFilename("record-","wav"):null,"aria-label":"Download","aria-disabled":v||Boolean(""===p),tabIndex:""===p?-1:0,className:"RecorderFieldset__download",onClick:A},"Download"),n.default.createElement("button",{type:"button",disabled:v,"aria-label":"Clear Track",className:"RecorderFieldset__clear",onClick:P})),n.default.createElement(i.Spacer,{space:16}),n.default.createElement(s.Select,{id:"select-track",label:"Select Track",values:["0","1","2","3"],texts:["track 1","track 2","track 3","track 4"],disabled:v,onChange:X}),n.default.createElement(i.Spacer,{space:16}),n.default.createElement(c.ValueController,{label:"Left Channel",id:"recorder-fieldset-left-channel-gain",defaultValue:1,min:0,max:1,step:.05,onChange:F}),n.default.createElement(i.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Right Channel",id:"recorder-fieldset-right-channel-gain",defaultValue:1,min:0,max:1,step:.05,onChange:x})),n.default.createElement(d.SelectableModal,{hasOverlay:!0,id:"modal-recorder-confirmation",isShow:y,title:"Confirmation",first:{label:"Cancel",action:N},second:{label:"OK",action:j},onClose:N},n.default.createElement("p",null,"Clear Track ",l+1,". OK ?")))}},2789:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecorderFieldset=void 0;var r=a(5722);Object.defineProperty(t,"RecorderFieldset",{enumerable:!0,get:function(){return r.RecorderFieldset}})},3619:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReverbFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(4610),s=a(2412),c=a(5342),d=a(4262);t.ReverbFieldset=function(e){var t=e.sources,a=e.rirInfos,r=n.useState(!1),l=r[0],o=r[1],f=[],m={},p={};a.forEach((function(e){var t=e.value,a=e.label,r=e.group;f.includes(r)||f.push(r),Array.isArray(m[r])?m[r].push(t.toString(10)):m[r]=[t.toString(10)],Array.isArray(p[r])?p[r].push(a):p[r]=[a]}));var h=n.useCallback((function(e){var a=e.currentTarget.checked;t.forEach((function(e){d.X(e).module("reverb").state(a)})),window.C("oscillator").module("reverb").state(a),o(a)}),[t]),b=n.useCallback((function(e){var a=parseInt(e.currentTarget.value,10);t.forEach((function(e){d.X(e).module("reverb").param("type",a)})),window.C("oscillator").module("reverb").param("type",a)}),[t]),v=n.useCallback((function(e){var a=e.currentTarget.valueAsNumber;t.forEach((function(e){d.X(e).module("reverb").param("dry",a)})),window.C("oscillator").module("reverb").param("dry",a)}),[t]),w=n.useCallback((function(e){var a=e.currentTarget.valueAsNumber;t.forEach((function(e){d.X(e).module("reverb").param("wet",a)})),window.C("oscillator").module("reverb").param("wet",a)}),[t]),_=n.useCallback((function(e){var a=e.currentTarget.valueAsNumber;t.forEach((function(e){d.X(e).module("reverb").param("tone",a)})),window.C("oscillator").module("reverb").param("tone",a)}),[t]);return n.default.createElement("div",{className:"ReverbFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(s.Switch,{id:"reverb-state",label:"Reverb",checked:l,onChange:h})),n.default.createElement(i.GroupSelect,{id:"group-select-reverb",label:"Select Reverb",groups:f,values:m,texts:p,onChange:b}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Dry",id:"reverb-dry",defaultValue:1,min:0,max:1,step:.05,onChange:v}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Wet",id:"reverb-wet",defaultValue:0,min:0,max:1,step:.05,onChange:w}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(c.ValueController,{label:"Tone",id:"reverb-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:_}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement("aside",null,n.default.createElement("a",{href:"http://legacy.spa.aalto.fi/projects/poririrs/",target:"_blank",rel:"noopener noreferrer"},"This website enables to get RIR (Room Impulse Response) files !"))))}},5250:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReverbFieldset=void 0;var r=a(3619);Object.defineProperty(t,"ReverbFieldset",{enumerable:!0,get:function(){return r.ReverbFieldset}})},2101:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RingModulatorFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.RingModulatorFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("ringmodulator").state(a)})),window.C("oscillator").module("ringmodulator").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("ringmodulator").param("depth",a)})),window.C("oscillator").module("ringmodulator").param("depth",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("ringmodulator").param("rate",a)})),window.C("oscillator").module("ringmodulator").param("rate",a)}),[e.sources]);return n.default.createElement("div",{className:"RingModulatorFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"ringmodulator-state",label:"Ring MOD.",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Depth",id:"ringmodulator-depth",defaultValue:0,min:0,max:1,step:.05,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Rate",id:"ringmodulator-rate",defaultValue:0,min:0,max:1500,step:1,onChange:d}),n.default.createElement(u.Spacer,{space:8})))}},7718:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RingModulatorFieldset=void 0;var r=a(2101);Object.defineProperty(t,"RingModulatorFieldset",{enumerable:!0,get:function(){return r.RingModulatorFieldset}})},8190:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TremoloFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.TremoloFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("tremolo").state(a)})),window.C("oscillator").module("tremolo").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("tremolo").param("depth",a)})),window.C("oscillator").module("tremolo").param("depth",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("tremolo").param("rate",a)})),window.C("oscillator").module("tremolo").param("rate",a)}),[e.sources]);return n.default.createElement("div",{className:"TremoloFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"tremolo-state",label:"Tremolo",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Depth",id:"tremolo-depth",defaultValue:0,min:0,max:1,step:.05,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Rate",id:"tremolo-rate",defaultValue:0,min:0,max:25,step:.05,onChange:d}),n.default.createElement(u.Spacer,{space:8})))}},6690:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TremoloFieldset=void 0;var r=a(8190);Object.defineProperty(t,"TremoloFieldset",{enumerable:!0,get:function(){return r.TremoloFieldset}})},7143:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WahFieldset=void 0;var n=o(a(7294)),u=a(81),i=a(2412),s=a(5342),c=a(4262);t.WahFieldset=function(e){var t=n.useState(!1),a=t[0],r=t[1],l=n.useCallback((function(t){var a=t.currentTarget.checked;e.sources.forEach((function(e){c.X(e).module("wah").state(a)})),window.C("oscillator").module("wah").state(a),r(a)}),[e.sources]),o=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("wah").param("cutoff",a)})),window.C("oscillator").module("wah").param("cutoff",a)}),[e.sources]),d=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("wah").param("depth",a)})),window.C("oscillator").module("wah").param("depth",a)}),[e.sources]),f=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("wah").param("rate",a)})),window.C("oscillator").module("wah").param("rate",a)}),[e.sources]),m=n.useCallback((function(t){var a=t.currentTarget.valueAsNumber;e.sources.forEach((function(e){c.X(e).module("wah").param("resonance",a)})),window.C("oscillator").module("wah").param("resonance",a)}),[e.sources]);return n.default.createElement("div",{className:"WahFieldset"},n.default.createElement("fieldset",null,n.default.createElement("legend",null,n.default.createElement(i.Switch,{id:"wah-state",label:"Wah",checked:a,onChange:l})),n.default.createElement(s.ValueController,{label:"Cutoff",id:"wah-cutoff",defaultValue:350,min:350,max:8e3,step:1,onChange:o}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Depth",id:"wah-depth",defaultValue:0,min:0,max:.9,step:.01,onChange:d}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Rate",id:"wah-rate",defaultValue:0,min:0,max:10,step:.05,onChange:f}),n.default.createElement(u.Spacer,{space:8}),n.default.createElement(s.ValueController,{label:"Resonance",id:"wah-resonance",defaultValue:1,min:1,max:20,step:1,onChange:m}),n.default.createElement(u.Spacer,{space:8})))}},8948:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WahFieldset=void 0;var r=a(7143);Object.defineProperty(t,"WahFieldset",{enumerable:!0,get:function(){return r.WahFieldset}})},6694:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FOCUSABLE_ELEMENTS=t.AJAX_TIMEOUT=t.NUMBER_OF_PIANO_KEYBOARDS=t.NUMBER_OF_ONESHOTS=t.BASE_URL=void 0,t.BASE_URL="/assets",t.NUMBER_OF_ONESHOTS=88,t.NUMBER_OF_PIANO_KEYBOARDS=88,t.AJAX_TIMEOUT=6e4,t.FOCUSABLE_ELEMENTS='a, button, input:not([type="checkbox"]):not([type="file"]), select, textarea, svg, [tabindex], [contentEditable]'},99:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(a(7294)),o=r(a(3935)),n=a(8216),u=a(265),i=a(3555),s=a(1309);o.default.render(l.default.createElement(n.Provider,{store:i.store},l.default.createElement(u.ConnectedRouter,{history:i.history},l.default.createElement(s.Routes,null))),document.getElementById("app"))},1495:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=t.activeMIDIKeyboardIndexes=t.upBassKeyboardIndexes=t.upMelodyKeyboardIndexes=t.downBassKeyboardIndexes=t.downMelodyKeyboardIndexes=t.mmlState=t.analyserState=t.currentSoundSource=void 0;var r=a(5857),l=a(265),o=a(2242);function n(e,t){return void 0===e&&(e="oscillator"),t.type===o.ActionTypes.CHANGE_CURRENT_SOUND_SOURCE?t.payload:e}function u(e,t){return void 0===e&&(e=!1),t.type===o.ActionTypes.CHANGE_ANALYSER_STATE?t.payload:e}function i(e,t){return void 0===e&&(e=!1),t.type===o.ActionTypes.CHANGE_MML_STATE?t.payload:e}function s(e,t){return void 0===e&&(e=[]),t.type===o.ActionTypes.DOWN_MELODY_KEYBOARDS?t.payload:e}function c(e,t){return void 0===e&&(e=[]),t.type===o.ActionTypes.DOWN_BASS_KEYBOARDS?t.payload:e}function d(e,t){return void 0===e&&(e=[]),t.type===o.ActionTypes.UP_MELODY_KEYBOARDS?t.payload:e}function f(e,t){return void 0===e&&(e=[]),t.type===o.ActionTypes.UP_BASS_KEYBOARDS?t.payload.slice(0):e}function m(e,t){return void 0===e&&(e=[]),t.type===o.ActionTypes.ACTIVATE_MIDI_KEYBOARDS?t.payload.slice(0):e}t.currentSoundSource=n,t.analyserState=u,t.mmlState=i,t.downMelodyKeyboardIndexes=s,t.downBassKeyboardIndexes=c,t.upMelodyKeyboardIndexes=d,t.upBassKeyboardIndexes=f,t.activeMIDIKeyboardIndexes=m;t.rootReducer=function(e){return r.combineReducers({currentSoundSource:n,analyserState:u,mmlState:i,downMelodyKeyboardIndexes:s,downBassKeyboardIndexes:c,upMelodyKeyboardIndexes:d,upBassKeyboardIndexes:f,activeMIDIKeyboardIndexes:m,router:l.connectRouter(e)})}},1309:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=void 0;var l=r(a(7294)),o=a(5513),n=a(8333);t.Routes=function(){return l.default.createElement(o.Switch,null,l.default.createElement(o.Route,{exact:!0,path:"/"},l.default.createElement(n.App,null)))}},3555:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.history=t.store=void 0;var r=a(5857),l=a(265),o=a(5648),n=a(1495),u=o.createBrowserHistory();t.history=u;var i=l.routerMiddleware(u),s=r.createStore(n.rootReducer(u),r.compose(r.applyMiddleware(i)));t.store=s},679:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFilename=t.formatAudioTime=void 0,t.formatAudioTime=function(e){var t=e.minutes,a=e.seconds;return("0"+t).slice(-2)+" : "+("0"+a).slice(-2)},t.createFilename=function(e,t){var a=function(e){return("0"+e).slice(-2)},r=new Date;return""+e+r.getFullYear()+a(r.getMonth()+1)+a(r.getDate())+a(r.getHours())+a(r.getMinutes())+a(r.getSeconds())+"."+t}}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var o=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=(t,a,l,o)=>{if(!a){var n=1/0;for(c=0;c<e.length;c++){for(var[a,l,o]=e[c],u=!0,i=0;i<a.length;i++)(!1&o||n>=o)&&Object.keys(r.O).every((e=>r.O[e](a[i])))?a.splice(i--,1):(u=!1,o<n&&(n=o));if(u){e.splice(c--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,l,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,o,[n,u,i]=a,s=0;if(n.some((t=>0!==e[t]))){for(l in u)r.o(u,l)&&(r.m[l]=u[l]);if(i)var c=i(r)}for(t&&t(a);s<n.length;s++)o=n[s],r.o(e,o)&&e[o]&&e[o][0](),e[n[s]]=0;return r.O(c)},a=this.webpackChunkxsound_app=this.webpackChunkxsound_app||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),r.O(void 0,[736],(()=>r(99)));var l=r.O(void 0,[736],(()=>r(5208)));l=r.O(l)})();
//# sourceMappingURL=app.js.map