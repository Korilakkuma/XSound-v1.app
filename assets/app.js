(()=>{"use strict";var e={5208:()=>{},2242:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0,t.ActionTypes={CHANGE_CURRENT_SOUND_SOURCE:"CHANGE_CURRENT_SOUND_SOURCE",CHANGE_ANALYSER_STATE:"CHANGE_ANALYSER_STATE",CHANGE_MML_STATE:"CHANGE_MML_STATE"}},5584:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeMMLState=t.changeAnalyserState=t.changeCurrentSoundSource=void 0;const o=a(2242);t.changeCurrentSoundSource=function(e){return{type:o.ActionTypes.CHANGE_CURRENT_SOUND_SOURCE,payload:e}},t.changeAnalyserState=function(e){return{type:o.ActionTypes.CHANGE_ANALYSER_STATE,payload:e}},t.changeMMLState=function(e){return{type:o.ActionTypes.CHANGE_MML_STATE,payload:e}}},8333:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(592),s=a(6216),n=a(1046),l=a(7524),i=a(7308),c=a(9999),h=a(5229),u=a(2789),d=a(5712),p=a(5599),m=a(2341),g=a(4543),C=a(1905),b=a(6166),w=a(5846),f=a(8948),M=a(2040),v=a(5850),E=a(9215),S=a(6690),k=a(7718),y=a(7265),_=a(5507),T=a(7309),F=a(7597),A=a(5250),X=a(6412),D=a(4262),x=88,O=["mixer","oscillator","oneshot","audio","stream","noise"],N=["/assets/one-shots/piano-2/C.wav","/assets/one-shots/piano-2/D.wav","/assets/one-shots/piano-2/E.wav","/assets/one-shots/piano-2/F.wav","/assets/one-shots/piano-2/G.wav","/assets/one-shots/piano-2/A.wav","/assets/one-shots/piano-2/B.wav","/assets/one-shots/guitar/C.mp3","/assets/one-shots/e-guitar/C.mp3"],R=[{url:"/assets/impulse-responses/s1_r1_c.mp3",value:1,label:"1 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s1_r2_c.mp3",value:2,label:"1 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s1_r3_c.mp3",value:3,label:"1 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s1_r4_c.mp3",value:4,label:"1 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s2_r1_c.mp3",value:5,label:"2 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s2_r2_c.mp3",value:6,label:"2 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s2_r3_c.mp3",value:7,label:"2 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s2_r4_c.mp3",value:8,label:"2 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s3_r1_c.mp3",value:9,label:"3 - 1",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s3_r2_c.mp3",value:10,label:"3 - 2",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s3_r3_c.mp3",value:11,label:"3 - 3",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s3_r4_c.mp3",value:12,label:"3 - 4",group:"Sideways pointed cardioid measurements in the audience area"},{url:"/assets/impulse-responses/s1_r1_o.mp3",value:13,label:"1 - 1",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s1_r2_o.mp3",value:14,label:"1 - 2",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s1_r3_o.mp3",value:15,label:"1 - 3",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s1_r4_o.mp3",value:16,label:"1 - 4",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s2_r1_o.mp3",value:17,label:"2 - 1",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s2_r2_o.mp3",value:18,label:"2 - 2",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s2_r3_o.mp3",value:19,label:"2 - 3",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s2_r4_o.mp3",value:20,label:"2 - 4",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s3_r1_o.mp3",value:21,label:"3 - 1",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s3_r2_o.mp3",value:22,label:"3 - 2",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s3_r3_o.mp3",value:23,label:"3 - 3",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s3_r4_o.mp3",value:24,label:"3 - 4",group:"Omnidirectional measurements in the audience area"},{url:"/assets/impulse-responses/s1_p1_o.mp3",value:25,label:"1 - 1",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s1_p2_o.mp3",value:26,label:"1 - 2",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s1_p3_o.mp3",value:27,label:"1 - 3",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s2_p1_o.mp3",value:28,label:"2 - 1",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s2_p2_o.mp3",value:29,label:"2 - 2",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s2_p3_o.mp3",value:30,label:"2 - 3",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s3_p1_o.mp3",value:31,label:"3 - 1",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s3_p2_o.mp3",value:32,label:"3 - 2",group:"Omnidirectional measurements on the stage"},{url:"/assets/impulse-responses/s3_p3_o.mp3",value:33,label:"3 - 3",group:"Omnidirectional measurements on the stage"}];function V(e){switch(Math.floor((e+9)%12)){case 0:case 1:return 0;case 2:case 3:return 1;case 4:return 2;case 5:case 6:return 3;case 7:case 8:return 4;case 9:case 10:return 5;case 11:return 6;default:return-1}}function P(e){let t=0;return e>=0&&e<=2?t=.0625:e>=3&&e<=14?t=.125:e>=15&&e<=26?t=.25:e>=27&&e<=38?t=.5:e>=39&&e<=50?t=1:e>=51&&e<=62?t=2:e>=63&&e<=74?t=4:e>=75&&e<=86?t=8:e>=87&&e<=98&&(t=16),-1!==[1,4,6,9,11,13,16,18,21,23,25,28,30,33,35,37,40,42,45,47,49,52,54,57,59,61,64,66,69,71,73,76,78,81,83,85].indexOf(e)&&(t*=Math.pow(2,1/12)),t}function j(e){let t=0;switch(e-x){case 0:t=1*Math.pow(Math.pow(2,1/12),-39);break;case 1:t=1*Math.pow(Math.pow(2,1/12),-38);break;case 2:t=1*Math.pow(Math.pow(2,1/12),-37);break;case 3:t=1*Math.pow(Math.pow(2,1/12),-36);break;case 4:t=1*Math.pow(Math.pow(2,1/12),-35);break;case 5:t=1*Math.pow(Math.pow(2,1/12),-34);break;case 6:t=1*Math.pow(Math.pow(2,1/12),-33);break;case 7:t=1*Math.pow(Math.pow(2,1/12),-32);break;case 8:t=1*Math.pow(Math.pow(2,1/12),-31);break;case 9:t=1*Math.pow(Math.pow(2,1/12),-30);break;case 10:t=1*Math.pow(Math.pow(2,1/12),-29);break;case 11:t=1*Math.pow(Math.pow(2,1/12),-28);break;case 12:t=1*Math.pow(Math.pow(2,1/12),-27);break;case 13:t=1*Math.pow(Math.pow(2,1/12),-26);break;case 14:t=1*Math.pow(Math.pow(2,1/12),-25);break;case 15:t=1*Math.pow(Math.pow(2,1/12),-24);break;case 16:t=1*Math.pow(Math.pow(2,1/12),-23);break;case 17:t=1*Math.pow(Math.pow(2,1/12),-22);break;case 18:t=1*Math.pow(Math.pow(2,1/12),-21);break;case 19:t=1*Math.pow(Math.pow(2,1/12),-20);break;case 20:t=1*Math.pow(Math.pow(2,1/12),-19);break;case 21:t=1*Math.pow(Math.pow(2,1/12),-18);break;case 22:t=1*Math.pow(Math.pow(2,1/12),-17);break;case 23:t=1*Math.pow(Math.pow(2,1/12),-16);break;case 24:t=1*Math.pow(Math.pow(2,1/12),-15);break;case 25:t=1*Math.pow(Math.pow(2,1/12),-14);break;case 26:t=1*Math.pow(Math.pow(2,1/12),-13);break;case 27:t=1*Math.pow(Math.pow(2,1/12),-12);break;case 28:t=1*Math.pow(Math.pow(2,1/12),-11);break;case 29:t=1*Math.pow(Math.pow(2,1/12),-10);break;case 30:t=1*Math.pow(Math.pow(2,1/12),-9);break;case 31:t=1*Math.pow(Math.pow(2,1/12),-8);break;case 32:t=1*Math.pow(Math.pow(2,1/12),-7);break;case 33:t=1*Math.pow(Math.pow(2,1/12),-6);break;case 34:t=1*Math.pow(Math.pow(2,1/12),-5);break;case 35:t=1*Math.pow(Math.pow(2,1/12),-4);break;case 36:t=1*Math.pow(Math.pow(2,1/12),-3);break;case 37:t=1*Math.pow(Math.pow(2,1/12),-2);break;case 38:t=1*Math.pow(Math.pow(2,1/12),-1);break;case 39:t=1;break;case 40:t=1*Math.pow(Math.pow(2,1/12),1);break;case 41:t=1*Math.pow(Math.pow(2,1/12),2);break;case 42:t=1*Math.pow(Math.pow(2,1/12),3);break;case 43:t=1*Math.pow(Math.pow(2,1/12),4);break;case 44:t=1*Math.pow(Math.pow(2,1/12),5);break;case 45:t=1*Math.pow(Math.pow(2,1/12),6);break;case 46:t=1*Math.pow(Math.pow(2,1/12),7);break;case 47:t=1*Math.pow(Math.pow(2,1/12),8);break;case 48:t=1*Math.pow(Math.pow(2,1/12),9);break;case 49:t=1*Math.pow(Math.pow(2,1/12),10);break;case 50:t=1*Math.pow(Math.pow(2,1/12),11);break;case 51:t=1*Math.pow(Math.pow(2,1/12),12);break;case 52:t=1*Math.pow(Math.pow(2,1/12),13);break;case 53:t=1*Math.pow(Math.pow(2,1/12),14);break;case 54:t=1*Math.pow(Math.pow(2,1/12),15);break;case 55:t=1*Math.pow(Math.pow(2,1/12),16);break;case 56:t=1*Math.pow(Math.pow(2,1/12),17);break;case 57:t=1*Math.pow(Math.pow(2,1/12),18);break;case 58:t=1*Math.pow(Math.pow(2,1/12),19);break;case 59:t=1*Math.pow(Math.pow(2,1/12),20);break;case 60:t=1*Math.pow(Math.pow(2,1/12),21);break;case 61:t=1*Math.pow(Math.pow(2,1/12),22);break;case 62:t=1*Math.pow(Math.pow(2,1/12),23);break;case 63:t=1*Math.pow(Math.pow(2,1/12),24);break;case 64:t=1*Math.pow(Math.pow(2,1/12),25);break;case 65:t=1*Math.pow(Math.pow(2,1/12),26);break;case 66:t=1*Math.pow(Math.pow(2,1/12),27);break;case 67:t=1*Math.pow(Math.pow(2,1/12),28);break;case 68:t=1*Math.pow(Math.pow(2,1/12),29);break;case 69:t=1*Math.pow(Math.pow(2,1/12),30);break;case 70:t=1*Math.pow(Math.pow(2,1/12),31);break;case 71:t=1*Math.pow(Math.pow(2,1/12),33);break;case 77:t=1*Math.pow(Math.pow(2,1/12),34);break;case 78:t=1*Math.pow(Math.pow(2,1/12),35);break;case 79:t=1*Math.pow(Math.pow(2,1/12),36);break;case 80:t=1*Math.pow(Math.pow(2,1/12),37);break;case 81:t=1*Math.pow(Math.pow(2,1/12),38);break;case 82:t=1*Math.pow(Math.pow(2,1/12),39);break;case 83:t=1*Math.pow(Math.pow(2,1/12),40);break;case 84:t=1*Math.pow(Math.pow(2,1/12),41);break;case 85:t=1*Math.pow(Math.pow(2,1/12),42);break;case 86:t=1*Math.pow(Math.pow(2,1/12),43);break;case 87:t=1*Math.pow(Math.pow(2,1/12),44);break;case 88:t=1*Math.pow(Math.pow(2,1/12),45)}return t}function B(e){let t=0;switch(e-x-x){case 0:t=1*Math.pow(Math.pow(2,1/12),-39);break;case 1:t=1*Math.pow(Math.pow(2,1/12),-38);break;case 2:t=1*Math.pow(Math.pow(2,1/12),-37);break;case 3:t=1*Math.pow(Math.pow(2,1/12),-36);break;case 4:t=1*Math.pow(Math.pow(2,1/12),-35);break;case 5:t=1*Math.pow(Math.pow(2,1/12),-34);break;case 6:t=1*Math.pow(Math.pow(2,1/12),-33);break;case 7:t=1*Math.pow(Math.pow(2,1/12),-32);break;case 8:t=1*Math.pow(Math.pow(2,1/12),-31);break;case 9:t=1*Math.pow(Math.pow(2,1/12),-30);break;case 10:t=1*Math.pow(Math.pow(2,1/12),-29);break;case 11:t=1*Math.pow(Math.pow(2,1/12),-28);break;case 12:t=1*Math.pow(Math.pow(2,1/12),-27);break;case 13:t=1*Math.pow(Math.pow(2,1/12),-26);break;case 14:t=1*Math.pow(Math.pow(2,1/12),-25);break;case 15:t=1*Math.pow(Math.pow(2,1/12),-24);break;case 16:t=1*Math.pow(Math.pow(2,1/12),-23);break;case 17:t=1*Math.pow(Math.pow(2,1/12),-22);break;case 18:t=1*Math.pow(Math.pow(2,1/12),-21);break;case 19:t=1*Math.pow(Math.pow(2,1/12),-20);break;case 20:t=1*Math.pow(Math.pow(2,1/12),-19);break;case 21:t=1*Math.pow(Math.pow(2,1/12),-18);break;case 22:t=1*Math.pow(Math.pow(2,1/12),-17);break;case 23:t=1*Math.pow(Math.pow(2,1/12),-16);break;case 24:t=1*Math.pow(Math.pow(2,1/12),-15);break;case 25:t=1*Math.pow(Math.pow(2,1/12),-14);break;case 26:t=1*Math.pow(Math.pow(2,1/12),-13);break;case 27:t=1*Math.pow(Math.pow(2,1/12),-12);break;case 28:t=1*Math.pow(Math.pow(2,1/12),-11);break;case 29:t=1*Math.pow(Math.pow(2,1/12),-10);break;case 30:t=1*Math.pow(Math.pow(2,1/12),-9);break;case 31:t=1*Math.pow(Math.pow(2,1/12),-8);break;case 32:t=1*Math.pow(Math.pow(2,1/12),-7);break;case 33:t=1*Math.pow(Math.pow(2,1/12),-6);break;case 34:t=1*Math.pow(Math.pow(2,1/12),-5);break;case 35:t=1*Math.pow(Math.pow(2,1/12),-4);break;case 36:t=1*Math.pow(Math.pow(2,1/12),-3);break;case 37:t=1*Math.pow(Math.pow(2,1/12),-2);break;case 38:t=1*Math.pow(Math.pow(2,1/12),-1);break;case 39:t=1;break;case 40:t=1*Math.pow(Math.pow(2,1/12),1);break;case 41:t=1*Math.pow(Math.pow(2,1/12),2);break;case 42:t=1*Math.pow(Math.pow(2,1/12),3);break;case 43:t=1*Math.pow(Math.pow(2,1/12),4);break;case 44:t=1*Math.pow(Math.pow(2,1/12),5);break;case 45:t=1*Math.pow(Math.pow(2,1/12),6);break;case 46:t=1*Math.pow(Math.pow(2,1/12),7);break;case 47:t=1*Math.pow(Math.pow(2,1/12),8);break;case 48:t=1*Math.pow(Math.pow(2,1/12),9);break;case 49:t=1*Math.pow(Math.pow(2,1/12),10);break;case 50:t=1*Math.pow(Math.pow(2,1/12),11);break;case 51:t=1*Math.pow(Math.pow(2,1/12),12);break;case 52:t=1*Math.pow(Math.pow(2,1/12),13);break;case 53:t=1*Math.pow(Math.pow(2,1/12),14);break;case 54:t=1*Math.pow(Math.pow(2,1/12),15);break;case 55:t=1*Math.pow(Math.pow(2,1/12),16);break;case 56:t=1*Math.pow(Math.pow(2,1/12),17);break;case 57:t=1*Math.pow(Math.pow(2,1/12),18);break;case 58:t=1*Math.pow(Math.pow(2,1/12),19);break;case 59:t=1*Math.pow(Math.pow(2,1/12),20);break;case 60:t=1*Math.pow(Math.pow(2,1/12),21);break;case 61:t=1*Math.pow(Math.pow(2,1/12),22);break;case 62:t=1*Math.pow(Math.pow(2,1/12),23);break;case 63:t=1*Math.pow(Math.pow(2,1/12),24);break;case 64:t=1*Math.pow(Math.pow(2,1/12),25);break;case 65:t=1*Math.pow(Math.pow(2,1/12),26);break;case 66:t=1*Math.pow(Math.pow(2,1/12),27);break;case 67:t=1*Math.pow(Math.pow(2,1/12),28);break;case 68:t=1*Math.pow(Math.pow(2,1/12),29);break;case 69:t=1*Math.pow(Math.pow(2,1/12),30);break;case 70:t=1*Math.pow(Math.pow(2,1/12),31);break;case 71:t=1*Math.pow(Math.pow(2,1/12),33);break;case 77:t=1*Math.pow(Math.pow(2,1/12),34);break;case 78:t=1*Math.pow(Math.pow(2,1/12),35);break;case 79:t=1*Math.pow(Math.pow(2,1/12),36);break;case 80:t=1*Math.pow(Math.pow(2,1/12),37);break;case 81:t=1*Math.pow(Math.pow(2,1/12),38);break;case 82:t=1*Math.pow(Math.pow(2,1/12),39);break;case 83:t=1*Math.pow(Math.pow(2,1/12),40);break;case 84:t=1*Math.pow(Math.pow(2,1/12),41);break;case 85:t=1*Math.pow(Math.pow(2,1/12),42);break;case 86:t=1*Math.pow(Math.pow(2,1/12),43);break;case 87:t=1*Math.pow(Math.pow(2,1/12),44);break;case 88:t=1*Math.pow(Math.pow(2,1/12),45)}return t}function L(){const e=new Array(x);for(let t=0;t<x;t++){const a={buffer:0,rate:1,loop:!1,start:0,end:0,volume:1};a.buffer=V(t),a.rate=P(t),e[t]=a}for(let t=x;t<176;t++){const a={buffer:7,rate:1,loop:!1,start:0,end:0,volume:1};a.rate=j(t),e[t]=a}for(let t=176;t<264;t++){const a={buffer:8,rate:1,loop:!1,start:0,end:0,volume:1};a.rate=B(t),e[t]=a}return e}class G extends o.Component{constructor(e){super(e),this.pianoRef=o.createRef(),this.state={progress:!0,rate:0,errorMessage:"",isShowModalForAjax:!1,isShowModalForDecoding:!1},this.setSoundStop=this.setSoundStop.bind(this),this.clearKeyboards=this.clearKeyboards.bind(this),this.onCloseModalForAjax=this.onCloseModalForAjax.bind(this),this.onCloseModalForDecoding=this.onCloseModalForDecoding.bind(this),this.loadRIRs=this.loadRIRs.bind(this)}componentDidMount(){window.C=D.X.clone(),D.X.free([D.X("media")]),window.C.free([window.C("oneshot"),window.C("audio"),window.C("media"),window.C("stream"),window.C("mixer"),window.C("midi")]),D.X("mixer").resize(1024),D.X("oscillator").resize(1024),window.C("oscillator").resize(1024),D.X("oneshot").resize(1024),D.X("audio").resize(8192),D.X("stream").resize(512),D.X("oscillator").setup([!0,!0,!0,!0]),window.C("oscillator").setup([!1,!1,!1,!1]),D.X("audio").module("wah").param("auto",!0),D.X("audio").module("pitchshifter").state(!0),D.X("stream").module("pitchshifter").state(!0);D.X("stream").setup({audio:{autoGainControl:!0,echoCancellation:!0,echoCancellationType:"system",noiseSuppression:!1},video:!1}),O.forEach((e=>{D.X(e).module("distortion").param("color",2e3),D.X(e).module("distortion").param("tone",4e3),D.X(e).module("chorus").param("tone",4e3),D.X(e).module("flanger").param("tone",4e3),D.X(e).module("delay").param("tone",4e3),D.X(e).module("reverb").param("tone",4e3),D.X(e).module("filter").param("frequency",8e3)})),window.C("oscillator").module("distortion").param("color",2e3),window.C("oscillator").module("distortion").param("tone",4e3),window.C("oscillator").module("chorus").param("tone",4e3),window.C("oscillator").module("flanger").param("tone",4e3),window.C("oscillator").module("delay").param("tone",4e3),window.C("oscillator").module("reverb").param("tone",4e3),window.C("oscillator").module("filter").param("frequency",8e3);for(let e=0,t=D.X("oscillator").length();e<t;e++)D.X("oscillator",e).param("type","sawtooth"),window.C("oscillator",e).param("type","sawtooth");try{D.X("oneshot").setup({resources:N,settings:L(),timeout:6e4,success:()=>{0===R.length?this.setState({progress:!1}):this.loadRIRs()},error:()=>{this.setState({errorMessage:"The loading of audio files failed.",isShowModalForAjax:!0})}})}catch(e){this.setState({errorMessage:e.message,isShowModalForAjax:!0})}}render(){const{dispatch:e,currentSoundSource:t,analyserState:a,mmlState:r}=this.props,{progress:x,rate:N,errorMessage:V,isShowModalForAjax:P,isShowModalForDecoding:j}=this.state;return o.createElement(o.Fragment,null,o.createElement(i.Header,{progress:x,rate:N}),o.createElement("main",null,o.createElement(n.Flexbox,null,o.createElement(c.OscillatorFieldset,{defaultState:!0,oscillatorNumber:0,label:"Oscillator - 1",radioName:"oscillator-type-0",onChangeType:e=>{const t=e.currentTarget.value;for(let e=0,a=D.X("oscillator").length();e<a;e++)D.X("oscillator").get(e).param("type",t)},onChangeState:e=>{const t=e.currentTarget.checked;for(let e=0,a=D.X("oscillator").length();e<a;e++)D.X("oscillator").get(e).state(t)},onChangeVolume:e=>{const t=e.currentTarget.valueAsNumber;for(let e=0,a=D.X("oscillator").length();e<a;e++)D.X("oscillator").get(e).param("volume",t)},onChangeOctave:e=>{const t=e.currentTarget.valueAsNumber;for(let e=0,a=D.X("oscillator").length();e<a;e++)D.X("oscillator").get(e).param("octave",t)},onChangeFine:e=>{const t=e.currentTarget.valueAsNumber;for(let e=0,a=D.X("oscillator").length();e<a;e++)D.X("oscillator").get(e).param("fine",t)}}),o.createElement(c.OscillatorFieldset,{oscillatorNumber:1,label:"Oscillator - 2",radioName:"oscillator-type-1",onChangeType:e=>{const t=e.currentTarget.value;for(let e=0,a=window.C("oscillator").length();e<a;e++)window.C("oscillator").get(e).param("type",t)},onChangeState:e=>{const t=e.currentTarget.checked;for(let e=0,a=window.C("oscillator").length();e<a;e++)window.C("oscillator").get(e).state(t)},onChangeVolume:e=>{const t=e.currentTarget.valueAsNumber;for(let e=0,a=window.C("oscillator").length();e<a;e++)window.C("oscillator").get(e).param("volume",t)},onChangeOctave:e=>{const t=e.currentTarget.valueAsNumber;for(let e=0,a=window.C("oscillator").length();e<a;e++)window.C("oscillator").get(e).param("octave",t)},onChangeFine:e=>{const t=e.currentTarget.valueAsNumber;for(let e=0,a=window.C("oscillator").length();e<a;e++)window.C("oscillator").get(e).param("fine",t)}}),o.createElement(h.EnvelopeGeneratorFieldset,null),o.createElement(u.RecorderFieldset,{sources:O}),o.createElement(d.AudioFieldset,null)),o.createElement(p.Analyser,{active:a,sources:O}),o.createElement(m.MML,{active:r,currentSoundSource:t,setSoundStop:this.setSoundStop,clear:this.clearKeyboards}),o.createElement(g.BasicControllers,{dispatch:e,sources:O}),o.createElement(C.Piano,{ref:this.pianoRef,currentSoundSource:t}),o.createElement(n.Flexbox,null,o.createElement(l.VerticalBox,null,o.createElement(b.CompressorFieldset,{sources:O}),o.createElement(w.DistortionFieldset,{sources:O})),o.createElement(l.VerticalBox,null,o.createElement(f.WahFieldset,{sources:O}),o.createElement(M.EqualizerFieldset,{sources:O})),o.createElement(l.VerticalBox,null,o.createElement(v.FilterFieldset,{sources:O}),o.createElement(E.AutopanFieldset,{sources:O})),o.createElement(l.VerticalBox,null,o.createElement(S.TremoloFieldset,{sources:O}),o.createElement(k.RingModulatorFieldset,{sources:O}),o.createElement(y.PhaserFieldset,{sources:O})),o.createElement(l.VerticalBox,null,o.createElement(_.ChorusFieldset,{sources:O}),o.createElement(T.FlangerFieldset,{sources:O})),o.createElement(l.VerticalBox,null,o.createElement(F.DelayFieldset,{sources:O}),o.createElement(A.ReverbFieldset,{sources:O,rirInfos:R})))),o.createElement(X.Footer,null),o.createElement(s.Modal,{hasOverlay:!0,isShow:P,title:"Error",onClose:this.onCloseModalForAjax},V),o.createElement(s.Modal,{hasOverlay:!0,isShow:j,title:"Error",onClose:this.onCloseModalForDecoding},V))}setSoundStop(e,t){this.pianoRef.current&&this.pianoRef.current.setSoundStop(e,t)}clearKeyboards(){this.pianoRef.current&&this.pianoRef.current.clear()}onCloseModalForAjax(){this.setState({errorMessage:"",isShowModalForAjax:!1})}onCloseModalForDecoding(){this.setState({errorMessage:"",isShowModalForDecoding:!1})}loadRIRs(){const e=[];R.forEach((t=>{D.X.ajax(t.url,"arraybuffer",6e4,((t,a)=>{D.X.decode(D.X.get(),a,(t=>{e.push(t);const a=Math.floor(e.length/R.length*100);this.setState({rate:a}),e.length===R.length&&(O.forEach((t=>{D.X(t).module("reverb").preset(e)})),window.C("oscillator").module("reverb").preset(e),this.setState({progress:!1,rate:100}))}),(()=>{this.setState({errorMessage:"Decode error.",isShowModalForAjax:!0})}))}),(()=>{this.setState({errorMessage:"The loading of RIRs failed.",isShowModalForAjax:!0})}))}))}}t.default=r.connect((function(e){const{currentSoundSource:t,analyserState:a,mmlState:o}=e;return{currentSoundSource:t,analyserState:a,mmlState:o}}))(G)},5458:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{label:t,image:a,width:r,height:s,size:n,position:l,active:i,onClick:c}=e;return o.createElement("button",{type:"button",className:"Button"+(i?" -active":""),"aria-label":t,style:{width:r+"px",height:s+"px",backgroundImage:`url(${a})`,backgroundSize:n,backgroundPosition:l||void 0},onClick:c})}},7332:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const o=a(5458);t.Button=o.default},8472:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);class r extends o.Component{constructor(e){super(e),this.fileUploaderRef=o.createRef(),this.state={drag:!1,drop:!1},this.onClick=this.onClick.bind(this),this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this)}render(){const{label:e,accept:t,placeholder:a,filename:r,onChange:s}=this.props,{drag:n,drop:l}=this.state;return o.createElement("div",{className:`FileUploader${n?" -drag":""}${l?" -drop":""}`,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},o.createElement("button",{type:"button",className:"text-ellipsis","aria-label":e,onClick:this.onClick},r||a),o.createElement("input",{type:"file",ref:this.fileUploaderRef,hidden:!0,accept:t,placeholder:a,onChange:s}))}onClick(){const e=this.fileUploaderRef.current;null!==e&&(e.value="",e.click())}onDragEnter(e){e.preventDefault(),this.setState({drag:!0,drop:!1}),this.props.onDragEnter(e)}onDragOver(e){e.preventDefault(),this.props.onDragOver(e)}onDragLeave(e){e.preventDefault(),this.setState({drag:!1,drop:!1}),this.props.onDragLeave(e)}onDrop(e){e.preventDefault(),this.setState({drag:!1,drop:!0}),this.props.onDrop(e)}}t.default=r},870:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploader=void 0;const o=a(8472);t.FileUploader=o.default},2371:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>o.createElement("div",{className:"Flexbox"},e.children)},1046:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Flexbox=void 0;const o=a(2371);t.Flexbox=o.default},4020:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{isShow:t,hasOverlay:a,title:r,onClose:s,children:n}=e;return o.createElement("div",{className:"Modal"+(t?" -show":"")},a?o.createElement("div",{className:"Modal__overlay",role:s?"button":void 0,onClick:s}):null,o.createElement("div",{className:"Modal__inner"},s?o.createElement("button",{className:"Modal__closer",type:"button","aria-label":"Close modal",onClick:s},"X"):null,o.createElement("h1",{className:"Modal__title"},r),o.createElement("div",{className:"Modal__contents"},n)))}},6216:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;const o=a(4020);t.Modal=o.default},2330:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{title:t,progress:a,rate:r,auto:s}=e;return o.createElement("div",{className:"ProgressBar",hidden:!a},t?o.createElement("p",{className:"ProgressBar__title"},t):null,o.createElement("div",{className:"ProgressBar__wrapper"},o.createElement("div",{className:"ProgressBar__mask"}),o.createElement("div",{className:"ProgressBar__bar"+(s?" -auto":""),style:{width:r+"%"}})))}},3337:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;const o=a(2330);t.ProgressBar=o.default},7795:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{groups:t,values:a,texts:r,width:s,onChange:n,defaultValue:l}=e;return t?o.createElement("select",{className:"Select",onChange:n,defaultValue:l,style:s?{width:s}:void 0},t.map(((e,t)=>o.createElement("optgroup",{key:t,label:e},a[e].map(((t,a)=>o.createElement("option",{key:t,value:t},r[e][a]))))))):Array.isArray(a)?o.createElement("select",{className:"Select",onChange:n,defaultValue:l,style:s?{width:s}:void 0},a.map(((e,t)=>o.createElement("option",{key:e,value:e},r[t])))):null}},9383:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Select=void 0;const o=a(7795);t.Select=o.default},8459:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{id:t,value:a,min:r,max:s,step:n,onChange:l}=e,i=(a-r)/(s-r),c=100*i;return o.createElement("div",{className:"Slider"},o.createElement("input",{type:"range",id:t,value:a,min:r,max:s,step:n,onChange:l}),o.createElement("div",{className:"Slider__value",style:{width:`calc(${c}% - (${i} * 28px))`}}))}},7024:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;const o=a(8459);t.Slider=o.default},9462:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{direction:t,space:a}=e,r="margin"+(t||"Bottom");return o.createElement("div",{role:"presentation",style:{[r]:a+"px"}})}},81:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Spacer=void 0;const o=a(9462);t.Spacer=o.default},8432:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>{const{id:t,value:a,min:r,max:s,step:n,onChange:l}=e;return o.createElement("input",{type:"number",className:"Spinner",id:t,value:a,min:r,max:s,step:n,onChange:l})}},8241:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;const o=a(8432);t.Spinner=o.default},960:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);class r extends o.Component{constructor(e){super(e),this.state={checked:Boolean(e.defaultChecked)},this.onChange=this.onChange.bind(this)}render(){const{id:e,label:t}=this.props;return o.createElement("div",{className:"Switch"+(this.state.checked?" -checked":"")},o.createElement("label",{htmlFor:e},t,o.createElement("span",{"aria-label":t+" switch"})),o.createElement("input",{type:"checkbox",hidden:!0,id:e,checked:this.state.checked,onChange:this.onChange}))}onChange(e){this.props.onChange(e),this.setState({checked:e.currentTarget.checked})}}t.default=r},2412:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Switch=void 0;const o=a(960);t.Switch=o.default},9424:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=e=>o.createElement("div",{className:"VerticalBox"},e.children)},7524:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalBox=void 0;const o=a(9424);t.VerticalBox=o.default},2960:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);class r extends o.Component{constructor(e){super(e),this.state={value:e.initialValue},this.onChange=this.onChange.bind(this)}render(){const{radioName:e,onChange:t}=this.props,{value:a}=this.state;return o.createElement("form",{className:"OscillatorSelector",onChange:this.onChange},o.createElement("label",{className:"OscillatorSelector__sine"+("sine"===a?" -active":"")},o.createElement("input",{type:"radio",name:"radio-"+e,"aria-label":"sine",checked:"sine"===a,value:"sine",onChange:t})),o.createElement("label",{className:"OscillatorSelector__square"+("square"===a?" -active":"")},o.createElement("input",{type:"radio",name:"radio-"+e,"aria-label":"square",checked:"square"===a,value:"square",onChange:t})),o.createElement("label",{className:"OscillatorSelector__sawtooth"+("sawtooth"===a?" -active":"")},o.createElement("input",{type:"radio",name:"radio-"+e,"aria-label":"sawtooth",checked:"sawtooth"===a,value:"sawtooth",onChange:t})),o.createElement("label",{className:"OscillatorSelector__triangle"+("triangle"===a?" -active":"")},o.createElement("input",{type:"radio",name:"radio-"+e,"aria-label":"triangle",checked:"triangle"===a,value:"triangle",onChange:t})))}onChange(e){const t=e.currentTarget,a="radio-"+this.props.radioName;for(let e=0,o=t.elements[a].length;e<o;e++)if(t.elements[a][e].checked){this.setState({value:t.elements[a][e].value});break}}}t.default=r},698:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscillatorSelector=void 0;const o=a(2960);t.OscillatorSelector=o.default},1159:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(6216);t.default=e=>{const{isShow:t,hasOverlay:a,title:s,first:n,second:l,onClose:i,children:c}=e;return o.createElement("div",{className:"SelectableModal"},o.createElement(r.Modal,{isShow:t,hasOverlay:a,title:s,onClose:i},o.createElement("div",{className:"SelectableModal__contents"},c),o.createElement("div",{className:"SelectableModal__buttons"},o.createElement("button",{type:"button",onClick:n.action},n.label),o.createElement("button",{type:"button",onClick:l.action},l.label))))}},3824:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectableModal=void 0;const o=a(1159);t.SelectableModal=o.default},4623:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(7024),s=a(8241);class n extends o.Component{static getDerivedStateFromProps(e){return"audio-fieldset-current-time"===e.id?{value:e.defaultValue}:null}constructor(e){super(e),this.state={value:e.defaultValue},this.onChange=this.onChange.bind(this)}render(){const{label:e,id:t,min:a,max:n,step:l,width:i}=this.props,{value:c}=this.state;return o.createElement("dl",{className:"ValueController",style:i?{width:i}:void 0},o.createElement("dt",null,o.createElement("label",{htmlFor:t},e),o.createElement(s.Spinner,{id:t,value:c,min:a,max:n,step:l,onChange:this.onChange})),o.createElement("dd",null,o.createElement(r.Slider,{value:c,min:a,max:n,step:l,onChange:this.onChange})))}onChange(e){this.props.onChange(e),this.setState({value:e.currentTarget.valueAsNumber})}}t.default=n},5342:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueController=void 0;const o=a(4623);t.ValueController=o.default},5548:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=a(8333);t.App=o.default},1599:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.setupped=!1,this.canvasForTimeOverviewLeftRef=o.createRef(),this.canvasForTimeOverviewRightRef=o.createRef(),this.canvasForTimeDomainRef=o.createRef(),this.canvasForFrequencyDomainRef=o.createRef(),this.state={active:e.active,showTimeOverview:"left"},this.onClickChannel=this.onClickChannel.bind(this),this.onChangeMode=this.onChangeMode.bind(this),this.onChangeInterval=this.onChangeInterval.bind(this),this.onChangeSmoothing=this.onChangeSmoothing.bind(this)}static getDerivedStateFromProps(e,t){return e.active!==t.active?{active:e.active}:null}componentDidUpdate(){const{active:e}=this.state;if(this.setupped)return void this.props.sources.forEach((t=>{l.X(t).module("analyser").domain("time").state(e),l.X(t).module("analyser").domain("fft").state(e)}));this.props.sources.forEach((t=>{l.X(t).module("analyser").param({fftSize:2048,minDecibels:-100,maxDecibels:-30,smoothingTimeConstant:.1}),l.X(t).module("analyser").domain("time").setup(this.canvasForTimeDomainRef.current).param({interval:0,shape:"line",wave:"rgba(0, 0, 255, 1.0)",font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:2,right:15,type:"uint"}).state(e),l.X(t).module("analyser").domain("fft").setup(this.canvasForFrequencyDomainRef.current).param({interval:0,shape:"rect",wave:"gradient",grad:[{offset:0,color:"rgba(0, 128, 255, 1.0)"},{offset:1,color:"rgba(0,   0, 255, 1.0)"}],font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:1,right:15,type:"uint",size:256}).state(e)}));const t={shape:"rect",wave:"gradient",grad:[{offset:0,color:"rgba(0, 128, 255, 1.0)"},{offset:1,color:"rgba(0,   0, 255, 1.0)"}],font:{family:"Arial",size:"12px",style:"normal",weight:"normal"},width:.5,right:15},a=(e,t,a)=>{if("mouseup"!==e.type&&"touchend"!==e.type)return;switch(l.X("audio").module("analyser").domain("timeoverview",0).param("mode")){case"update":t>=0&&t<=l.X("audio").param("duration")&&(l.X("audio").param("currentTime",t),l.X("audio").module("analyser").domain("timeoverview",0).update(t),l.X("audio").module("analyser").domain("timeoverview",1).update(t));break;case"sprite":l.X("audio").stop().start(t,a)}};l.X("audio").module("analyser").domain("timeoverview",0).setup(this.canvasForTimeOverviewLeftRef.current).state(!0).param(t).drag(a),l.X("audio").module("analyser").domain("timeoverview",1).setup(this.canvasForTimeOverviewRightRef.current).state(!0).param(t).drag(a),this.setupped=!0}render(){const{active:e,showTimeOverview:t}=this.state;return o.createElement("div",{className:"Analyser"+(e?" -active":"")},o.createElement("div",{className:"Analyser__canvas"},o.createElement("dl",null,o.createElement("dt",null,o.createElement("label",null,o.createElement("button",{type:"button",className:"Analyser__channelSelector -"+t,"aria-label":"Select Channel",onClick:this.onClickChannel}),"Time Overview [",t,"]")),o.createElement("dd",{hidden:"right"===t},o.createElement("canvas",{ref:this.canvasForTimeOverviewLeftRef,width:"1200",height:"120"})),o.createElement("dd",{hidden:"left"===t},o.createElement("canvas",{ref:this.canvasForTimeOverviewRightRef,width:"1200",height:"120"}))),o.createElement("dl",null,o.createElement("dt",null,"Time Domain"),o.createElement("dd",null,o.createElement("canvas",{ref:this.canvasForTimeDomainRef,width:"360",height:"120"}))),o.createElement("dl",null,o.createElement("dt",null,"Frequency Domain"),o.createElement("dd",null,o.createElement("canvas",{ref:this.canvasForFrequencyDomainRef,width:"360",height:"120"})))),o.createElement("div",{className:"Analyser__controllers"},o.createElement(s.Switch,{label:"Audio Sprite",id:"analyser-audio-sprite-mode",defaultChecked:!1,onChange:this.onChangeMode}),o.createElement(r.Spacer,{direction:"Right",space:12}),o.createElement(n.ValueController,{label:"Interval",id:"analyser-interval",defaultValue:0,min:0,max:1e3,step:10,width:"20%",onChange:this.onChangeInterval}),o.createElement(r.Spacer,{direction:"Right",space:12}),o.createElement(n.ValueController,{label:"Smoothing",id:"analyser-smoothing",defaultValue:.8,min:0,max:1,step:.05,width:"20%",onChange:this.onChangeSmoothing})))}onClickChannel(){this.setState((e=>({showTimeOverview:"right"===e.showTimeOverview?"left":"right"})))}onChangeMode(e){if(e.currentTarget.checked)l.X("audio").module("analyser").domain("timeoverview",0).param("mode","sprite"),l.X("audio").module("analyser").domain("timeoverview",1).param("mode","sprite"),l.X("audio").param("loop",!0);else{const e=l.X("audio").param("currentTime"),t=l.X("audio").param("duration");l.X("audio").module("analyser").domain("timeoverview",0).param("mode","update"),l.X("audio").module("analyser").domain("timeoverview",1).param("mode","update"),l.X("audio").param("loop",!1),l.X("audio").stop().start(e,t)}}onChangeInterval(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("analyser").domain("time").param("interval",t>0?t:"auto"),l.X(e).module("analyser").domain("fft").param("interval",t>0?t:"auto")}))}onChangeSmoothing(e){this.props.sources.forEach((t=>{l.X(t).module("analyser").param("smoothingTimeConstant",e.currentTarget.valueAsNumber)}))}}t.default=i},5599:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Analyser=void 0;const o=a(1599);t.Analyser=o.default},5477:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(870),n=a(7332),l=a(3337),i=a(6216),c=a(5342),h=a(4262);class u extends o.Component{constructor(e){super(e),this.setupped=!1,this.state={filename:"",paused:!0,currentTime:0,duration:0,progress:!1,loaded:0,total:0,rate:0,errorMessage:"",isShowModalForFileUploadError:!1,isShowModalForDecodingError:!1,isShowModalForProgress:!1,isShowModalForDecoding:!1},this.onChangeFile=this.onChangeFile.bind(this),this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.onClick=this.onClick.bind(this),this.onChangeCurrentTime=this.onChangeCurrentTime.bind(this),this.onChangeVolume=this.onChangeVolume.bind(this),this.onChangePitch=this.onChangePitch.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onCloseModal=this.onCloseModal.bind(this)}componentDidUpdate(){if(this.setupped)return;h.X("audio").setup({decode:()=>{this.setState({progress:!1,loaded:0,total:0,rate:0,isShowModalForProgress:!1,isShowModalForDecoding:!0})},ready:e=>{this.setState({duration:e.duration,isShowModalForDecoding:!1})},start:()=>{h.X("audio").module("recorder").start(),h.X("audio").module("session").start()},stop:()=>{},update:(e,t)=>{if(null===e.buffer)return;Math.floor(t*e.buffer.sampleRate)%(.1*e.buffer.sampleRate)==0&&this.setState({currentTime:t})},ended:()=>{this.setState({paused:!0,currentTime:0}),h.X("audio").module("analyser").domain("timeoverview",0).update(0),h.X("audio").module("analyser").domain("timeoverview",1).update(0)},error:e=>{this.setState({errorMessage:e.message,isShowModalForDecodingError:!0})}}),this.setupped=!0}render(){const{filename:e,paused:t,currentTime:a,duration:u,progress:d,loaded:p,rate:m,errorMessage:g,isShowModalForFileUploadError:C,isShowModalForDecodingError:b,isShowModalForProgress:w,isShowModalForDecoding:f}=this.state,M=h.X.convertTime(a),v=h.X.convertTime(u),E=`${("0"+M.minutes).slice(-2)} : ${("0"+M.seconds).slice(-2)}`,S=`${("0"+v.minutes).slice(-2)} : ${("0"+v.seconds).slice(-2)}`;return o.createElement("div",{className:"AudioFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,"Audio"),o.createElement("div",{className:"AudioFieldset__selectAudio"},o.createElement(s.FileUploader,{label:"Upload Audio",accept:"audio/*",placeholder:"Audio File (wav, ogg, mp3 ... etc)",filename:e,onChange:this.onChangeFile,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),o.createElement(n.Button,{label:t?"Start Audio":"Stop Audio",image:"/assets/images/button-audio.png",width:70,height:33,size:"70px 99px",active:!t,onClick:this.onClick})),o.createElement(c.ValueController,{label:`${E} / ${S}`,id:"audio-fieldset-current-time",defaultValue:Math.floor(a),min:0,max:u>0?u:0,step:1,onChange:this.onChangeCurrentTime}),o.createElement(r.Spacer,{space:8}),o.createElement(r.Spacer,{space:8}),o.createElement(c.ValueController,{label:"Pitch Shifter",id:"audio-fieldset-pitch",defaultValue:1,min:.05,max:4,step:.05,onChange:this.onChangePitch}),o.createElement(r.Spacer,{space:8}),o.createElement(c.ValueController,{label:"Vocal Canceler",id:"audio-fieldset-vocal-canceler",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeDepth})),o.createElement(i.Modal,{hasOverlay:!0,isShow:C,title:"Error",onClose:this.onCloseModal},g),o.createElement(i.Modal,{hasOverlay:!0,isShow:b,title:"Error",onClose:this.onCloseModal},g),o.createElement(i.Modal,{hasOverlay:!0,isShow:w,title:"Progress ..."},o.createElement("p",null,p," bytes (",m," %)"),o.createElement(l.ProgressBar,{title:"",progress:d,rate:m})),o.createElement(i.Modal,{hasOverlay:!0,isShow:f,title:"Decoding ..."},o.createElement(l.ProgressBar,{auto:!0,progress:!0,title:"",rate:0})))}readFile(e){const t={event:e.nativeEvent,type:"ArrayBuffer",success:(e,t)=>{h.X("audio").ready(t),e.currentTarget.value=""},error:e=>{this.setState({errorMessage:e.message,isShowModalForFileUploadError:!0})},progress:e=>{const{lengthComputable:t,loaded:a,total:o}=e;this.setState({progress:t,loaded:a,total:o,rate:t&&o>0?Math.floor(a/o*100):0,isShowModalForProgress:!0})}};try{const e=h.X.file(t);this.setState({filename:e.name})}catch(e){this.setState({errorMessage:e.message,isShowModalForFileUploadError:!0})}}onChangeFile(e){this.readFile(e)}onDragEnter(e){e.preventDefault()}onDragOver(e){e.preventDefault()}onDragLeave(e){e.preventDefault()}onDrop(e){this.readFile(e)}onClick(){h.X("audio").isBuffer()&&(h.X("audio").isPaused()?(h.X("audio").start(h.X("audio").param("currentTime")),this.setState({paused:!1})):(h.X("audio").stop(),this.setState({paused:!0})))}onChangeCurrentTime(e){h.X("audio").param("currentTime",e.currentTarget.valueAsNumber)}onChangeVolume(e){h.X("audio").param("mastervolume",e.currentTarget.valueAsNumber)}onChangePitch(e){h.X("audio").module("pitchshifter").param("pitch",e.currentTarget.valueAsNumber),h.X("stream").module("pitchshifter").param("pitch",e.currentTarget.valueAsNumber)}onChangeDepth(e){h.X("audio").module("vocalcanceler").param("depth",e.currentTarget.valueAsNumber)}onCloseModal(){this.setState({isShowModalForFileUploadError:!1,isShowModalForDecodingError:!1})}}t.default=u},5712:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFieldset=void 0;const o=a(5477);t.AudioFieldset=o.default},2047:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this)}render(){return o.createElement("div",{className:"AutopanFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"autopan-state",label:"Autopan",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Depth",id:"autopan-depth",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Rate",id:"autopan-rate",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("autopanner").state(t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("autopanner").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("autopanner").param("rate",t)}))}}t.default=i},9215:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AutopanFieldset=void 0;const o=a(2047);t.AutopanFieldset=o.default},9222:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(5584),s=a(2412),n=a(9383),l=a(6216),i=a(5342),c=a(4262);function h(e,t,a,o){const r=[],s=[];a.length>0&&(a[0].onmidimessage=t=>{switch(240&t.data[0]){case 144:((t,a)=>{if(t<21||t>108)return;if(a<0||a>127)return;const o=t-21,n=a/127;if("oscillator"===e){r.push(o),s[0]=c.X("oscillator",0).param("volume"),s[1]=window.C("oscillator",0).param("volume");for(let e=0,t=c.X("oscillator").length();e<t;e++)0!==e&&(c.X("oscillator").get(e).state(!0),window.C("oscillator").get(e).state(!0)),c.X("oscillator").get(e).param("volume",n),window.C("oscillator").get(e).param("volume",n);c.X("oscillator").ready(0,0).start(c.X.toFrequencies(r)),window.C("oscillator").ready(0,0).start(c.X.toFrequencies(r)),c.X("mixer").mix([c.X("oscillator"),window.C("oscillator")]),c.X("mixer").module("recorder").start(),c.X("mixer").module("session").start()}else c.X("oneshot").reset(o,"volume",n).ready(0,0).start(o),c.X("oneshot").module("recorder").start(),c.X("oneshot").module("session").start()})(t.data[1],t.data[2]);break;case 128:((t,a)=>{if(t<21||t>108)return;if(a<0||a>127)return;const o=t-21;if("oscillator"===e){const e=r.indexOf(o);-1!==e&&r.splice(e,1),c.X("oscillator").stop(),window.C("oscillator").stop();for(let e=0,t=c.X("oscillator").length();e<t;e++)0!==e&&(c.X("oscillator").get(e).state(!1),window.C("oscillator").get(e).state(!1)),c.X("oscillator").get(e).param("volume",s[0]),window.C("oscillator").get(e).param("volume",s[1])}else c.X("oneshot").stop(o).reset(o,"volume",1)})(t.data[1],t.data[2])}}),o.length}class u extends o.Component{constructor(e){super(e),this.state={currentSoundSource:"oscillator",analyserState:!1,mmlState:!1,errorMessage:"",isShowModalForMIDIError:!1},this.onChangeMasterVolume=this.onChangeMasterVolume.bind(this),this.onChangeGlide=this.onChangeGlide.bind(this),this.onChangeTranspose=this.onChangeTranspose.bind(this),this.onChangeSoundSource=this.onChangeSoundSource.bind(this),this.onChangeAnalyserState=this.onChangeAnalyserState.bind(this),this.onChangeMMLState=this.onChangeMMLState.bind(this),this.onCloseModal=this.onCloseModal.bind(this)}render(){const{analyserState:e,mmlState:t,errorMessage:a,isShowModalForMIDIError:r}=this.state;return o.createElement("div",{className:"BasicControllers"},o.createElement(i.ValueController,{label:"Master Volume",id:"master-volume",defaultValue:1,min:0,max:1,step:.05,width:"20%",onChange:this.onChangeMasterVolume}),o.createElement(i.ValueController,{label:"Glide",id:"glide",defaultValue:0,min:0,max:1,step:.05,width:"20%",onChange:this.onChangeGlide}),o.createElement(i.ValueController,{label:"Transpose",id:"transpose",defaultValue:0,min:-6,max:6,step:1,width:"20%",onChange:this.onChangeTranspose}),o.createElement(n.Select,{values:["oscillator","piano","guitar","electric-guitar","whitenoise","pinknoise","browniannoise","stream","midi"],texts:["OSCILLATOR","PIANO","A. GUITAR","E. GUITAR","WHITE NOISE","PINK NOISE","BROWNIAN NOISE","MICROPHONE","MIDI"],width:"20%",onChange:this.onChangeSoundSource}),o.createElement(s.Switch,{id:"analyser",label:"Analyser",defaultChecked:e,onChange:this.onChangeAnalyserState}),o.createElement(s.Switch,{id:"mml",label:"MML",defaultChecked:t,onChange:this.onChangeMMLState}),o.createElement(l.Modal,{hasOverlay:!0,isShow:r,title:"Error",onClose:this.onCloseModal},a))}onChangeMasterVolume(e){this.props.sources.forEach((t=>{null!==c.X(t)&&c.X(t).param("mastervolume",e.currentTarget.valueAsNumber),null!==window.C(t)&&window.C(t).param("mastervolume",e.currentTarget.valueAsNumber)}))}onChangeGlide(e){c.X("oscillator").module("glide").param("time",e.currentTarget.valueAsNumber),window.C("oscillator").module("glide").param("time",e.currentTarget.valueAsNumber)}onChangeTranspose(e){const t=(e.currentTarget.valueAsNumber+12)/12;c.X("oneshot").param("transpose",t)}onChangeSoundSource(e){this.props.sources.forEach((e=>{c.X(e).module("analyser").stop("time").domain("time").clear(),c.X(e).module("analyser").stop("fft").domain("fft").clear()}));const t=e.currentTarget.value;this.props.dispatch(r.changeCurrentSoundSource(t)),this.setState({currentSoundSource:t},(()=>{switch(c.X("stream").stop(),t){case"stream":c.X("stream").start(),c.X("stream").module("session").start();break;case"midi":try{c.X("midi").setup(!0,((e,a,o)=>{h(t,0,a,o)}),(()=>{this.setState({errorMessage:"Cannot use Web MIDI API.",isShowModalForMIDIError:!0})}))}catch(e){this.setState({errorMessage:e.message,isShowModalForMIDIError:!0})}}}))}onChangeAnalyserState(e){this.props.dispatch(r.changeAnalyserState(e.currentTarget.checked)),this.setState((e=>({analyserState:!e.analyserState})))}onChangeMMLState(e){this.props.dispatch(r.changeMMLState(e.currentTarget.checked)),this.setState((e=>({mmlState:!e.mmlState})))}onCloseModal(){this.setState({errorMessage:"",isShowModalForMIDIError:!1})}}t.default=u},4543:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasicControllers=void 0;const o=a(9222);t.BasicControllers=o.default},5422:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeTime=this.onChangeTime.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this),this.onChangeMix=this.onChangeMix.bind(this),this.onChangeTone=this.onChangeTone.bind(this)}render(){return o.createElement("div",{className:"ChorusFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"chorus-state",label:"Chorus",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Time",id:"chorus-time",defaultValue:0,min:0,max:50,step:1,onChange:this.onChangeTime}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Depth",id:"chorus-depth",defaultValue:0,min:0,max:1,step:.01,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Rate",id:"chorus-rate",defaultValue:0,min:0,max:1,step:.01,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Mix",id:"chorus-mix",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeMix}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Tone",id:"chorus-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:this.onChangeTone}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("chorus").state(t)}))}onChangeTime(e){const t=e.currentTarget.valueAsNumber/1e3;this.props.sources.forEach((e=>{l.X(e).module("chorus").param("time",t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("chorus").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("chorus").param("rate",t)}))}onChangeMix(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("chorus").param("mix",t)}))}onChangeTone(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("chorus").param("tone",t)}))}}t.default=i},5507:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChorusFieldset=void 0;const o=a(5422);t.ChorusFieldset=o.default},8618:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeThreshold=this.onChangeThreshold.bind(this),this.onChangeKnee=this.onChangeKnee.bind(this),this.onChangeRatio=this.onChangeRatio.bind(this),this.onChangeAttack=this.onChangeAttack.bind(this),this.onChangeRelease=this.onChangeRelease.bind(this)}render(){return o.createElement("div",{className:"CompressorFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{defaultChecked:!0,id:"compressor-state",label:"Compressor",onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Threshold",id:"compressor-threshold",defaultValue:-24,min:-100,max:0,step:1,onChange:this.onChangeThreshold}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Knee",id:"compressor-knee",defaultValue:30,min:0,max:40,step:1,onChange:this.onChangeKnee}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Ratio",id:"compressor-ratio",defaultValue:12,min:1,max:20,step:1,onChange:this.onChangeRatio}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Attack",id:"compressor-attack",defaultValue:.003,min:0,max:1,step:.001,onChange:this.onChangeAttack}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Release",id:"compressor-release",defaultValue:.25,min:.01,max:1,step:.01,onChange:this.onChangeRelease}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("compressor").state(t)}))}onChangeThreshold(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("compressor").param("threshold",t)}))}onChangeKnee(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("compressor").param("knee",t)}))}onChangeRatio(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("compressor").param("ratio",t)}))}onChangeAttack(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("compressor").param("attack",t)}))}onChangeRelease(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("compressor").param("release",t)}))}}t.default=i},6166:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompressorFieldset=void 0;const o=a(8618);t.CompressorFieldset=o.default},2995:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeTime=this.onChangeTime.bind(this),this.onChangeDry=this.onChangeDry.bind(this),this.onChangeWet=this.onChangeWet.bind(this),this.onChangeTone=this.onChangeTone.bind(this),this.onChangeFeedback=this.onChangeFeedback.bind(this)}render(){return o.createElement("div",{className:"DelayFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"delay-state",label:"Delay",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Time",id:"delay-time",defaultValue:0,min:0,max:1e3,step:1,onChange:this.onChangeTime}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Dry",id:"delay-dry",defaultValue:1,min:0,max:1,step:.05,onChange:this.onChangeDry}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Wet",id:"delay-wet",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeWet}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Tone",id:"delay-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:this.onChangeTone}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Feedback",id:"delay-feedback",defaultValue:0,min:0,max:.95,step:.05,onChange:this.onChangeFeedback}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("delay").state(t)}))}onChangeTime(e){const t=e.currentTarget.valueAsNumber/1e3;this.props.sources.forEach((e=>{l.X(e).module("delay").param("time",t)}))}onChangeDry(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("delay").param("dry",t)}))}onChangeWet(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("delay").param("wet",t)}))}onChangeTone(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("delay").param("tone",t)}))}onChangeFeedback(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("delay").param("feedback",t)}))}}t.default=i},7597:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DelayFieldset=void 0;const o=a(2995);t.DelayFieldset=o.default},6360:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(9383),n=a(2412),l=a(5342),i=a(4262);class c extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeCurve=this.onChangeCurve.bind(this),this.onChangeSamples=this.onChangeSamples.bind(this),this.onChangeAmount=this.onChangeAmount.bind(this),this.onChangeDrive=this.onChangeDrive.bind(this),this.onChangeColor=this.onChangeColor.bind(this),this.onChangeTone=this.onChangeTone.bind(this)}render(){return o.createElement("div",{className:"DistortionFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(n.Switch,{id:"distortion-state",label:"Distortion",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(s.Select,{values:["clean","crunch","overdrive","distortion","fuzz"],texts:["CLEAN","CRUNCH","OVERDRIVE","DISTORTION","FUZZ"],onChange:this.onChangeCurve}),o.createElement(r.Spacer,{space:8}),o.createElement(s.Select,{values:["8","16","32","64","128","256","512","1024","2048","4096","8192","16384","32768","65536"],texts:["8","16","32","64","128","256","512","1024","2048","4096","8192","16384","32768","65536"],onChange:this.onChangeSamples,defaultValue:"32768"}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Amount",id:"distortion-amount",defaultValue:.5,min:.05,max:.95,step:.05,onChange:this.onChangeAmount}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Drive",id:"distortion-drive",defaultValue:1,min:0,max:100,step:1,onChange:this.onChangeDrive}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Color",id:"distortion-color",defaultValue:2e3,min:20,max:2e3,step:1,onChange:this.onChangeColor}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Tone",id:"distortion-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:this.onChangeTone}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{i.X(e).module("distortion").state(t)}))}onChangeCurve(e){const t=e.currentTarget.value;this.props.sources.forEach((e=>{i.X(e).module("distortion").param("curve",t)}))}onChangeSamples(e){const t=parseInt(e.currentTarget.value,10);this.props.sources.forEach((e=>{i.X(e).module("distortion").param("samples",t)}))}onChangeAmount(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("distortion").param("amount",t)}))}onChangeDrive(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("distortion").param("drive",t)}))}onChangeColor(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("distortion").param("color",t)}))}onChangeTone(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("distortion").param("tone",t)}))}}t.default=c},5846:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DistortionFieldset=void 0;const o=a(6360);t.DistortionFieldset=o.default},9533:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(5342),n=a(4262);class l extends o.Component{constructor(e){super(e),this.onChangeAttack=this.onChangeAttack.bind(this),this.onChangeDecay=this.onChangeDecay.bind(this),this.onChangeSustain=this.onChangeSustain.bind(this),this.onChangeRelease=this.onChangeRelease.bind(this)}render(){return o.createElement("div",{className:"EnvelopeGeneratorFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,"Envelope Generator"),o.createElement(s.ValueController,{label:"Attack",id:"envelope-generator-attack",defaultValue:.01,min:0,max:1,step:.01,onChange:this.onChangeAttack}),o.createElement(r.Spacer,{space:8}),o.createElement(s.ValueController,{label:"Decay",id:"envelope-generator-decay",defaultValue:.3,min:0,max:1,step:.01,onChange:this.onChangeDecay}),o.createElement(r.Spacer,{space:8}),o.createElement(s.ValueController,{label:"Sustain",id:"envelope-generator-sustain",defaultValue:.5,min:0,max:1,step:.01,onChange:this.onChangeSustain}),o.createElement(r.Spacer,{space:8}),o.createElement(s.ValueController,{label:"Release",id:"envelope-generator-release",defaultValue:1,min:0,max:1,step:.01,onChange:this.onChangeRelease}),o.createElement(r.Spacer,{space:8})))}onChangeAttack(e){const t=e.currentTarget.valueAsNumber;n.X("oscillator").module("envelopegenerator").param("attack",t),window.C("oscillator").module("envelopegenerator").param("attack",t)}onChangeDecay(e){const t=e.currentTarget.valueAsNumber;n.X("oscillator").module("envelopegenerator").param("decay",t),window.C("oscillator").module("envelopegenerator").param("decay",t)}onChangeSustain(e){const t=e.currentTarget.valueAsNumber;n.X("oscillator").module("envelopegenerator").param("sustain",t),window.C("oscillator").module("envelopegenerator").param("sustain",t)}onChangeRelease(e){const t=e.currentTarget.valueAsNumber;n.X("oscillator").module("envelopegenerator").param("release",t),window.C("oscillator").module("envelopegenerator").param("release",t)}}t.default=l},5229:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnvelopeGeneratorFieldset=void 0;const o=a(9533);t.EnvelopeGeneratorFieldset=o.default},6452:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeBass=this.onChangeBass.bind(this),this.onChangeMiddle=this.onChangeMiddle.bind(this),this.onChangeTreble=this.onChangeTreble.bind(this),this.onChangePresence=this.onChangePresence.bind(this)}render(){return o.createElement("div",{className:"EqualizerFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"equalizer-state",label:"Equalizer",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Bass",id:"equalizer-bass",defaultValue:0,min:-18,max:18,step:1,onChange:this.onChangeBass}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Middle",id:"equalizer-middle",defaultValue:0,min:-18,max:18,step:1,onChange:this.onChangeMiddle}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Treble",id:"equalizer-treble",defaultValue:0,min:-18,max:18,step:1,onChange:this.onChangeTreble}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Presence",id:"equalizer-presence",defaultValue:0,min:-18,max:18,step:1,onChange:this.onChangePresence}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("equalizer").state(t)}))}onChangeBass(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("equalizer").param("bass",t)}))}onChangeMiddle(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("equalizer").param("middle",t)}))}onChangeTreble(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("equalizer").param("treble",t)}))}onChangePresence(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("equalizer").param("presence",t)}))}}t.default=i},2040:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EqualizerFieldset=void 0;const o=a(6452);t.EqualizerFieldset=o.default},7822:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(9383),n=a(2412),l=a(5342),i=a(4262);class c extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeType=this.onChangeType.bind(this),this.onChangeFrequency=this.onChangeFrequency.bind(this),this.onChangeQuality=this.onChangeQuality.bind(this),this.onChangeGain=this.onChangeGain.bind(this),this.onChangeAttack=this.onChangeAttack.bind(this),this.onChangeDecay=this.onChangeDecay.bind(this),this.onChangeSustain=this.onChangeSustain.bind(this),this.onChangeRelease=this.onChangeRelease.bind(this)}render(){return o.createElement("div",{className:"FilterFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(n.Switch,{id:"filter-state",label:"Filter",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(s.Select,{values:["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"],texts:["LOWPASS","HIGHPASS","BANDPASS","LOWSHELF","HIGHSHELF","PEAKING","NOTCH","ALLPASS"],onChange:this.onChangeType}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Frequency",id:"filter-frequency",defaultValue:8e3,min:20,max:22050,step:1,onChange:this.onChangeFrequency}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Quality",id:"filter-quality",defaultValue:1,min:1,max:20,step:1,onChange:this.onChangeQuality}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Gain",id:"filter-gain",defaultValue:0,min:-18,max:18,step:1,onChange:this.onChangeGain}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Attack",id:"filter-attack",defaultValue:.01,min:0,max:1,step:.01,onChange:this.onChangeAttack}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Decay",id:"filter-decay",defaultValue:.3,min:0,max:1,step:.01,onChange:this.onChangeDecay}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Sustain",id:"filter-sustain",defaultValue:.5,min:0,max:1,step:.01,onChange:this.onChangeSustain}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Release",id:"filter-release",defaultValue:1,min:0,max:1,step:.01,onChange:this.onChangeRelease}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{i.X(e).module("filter").state(t)}))}onChangeType(e){const t=e.currentTarget.value;this.props.sources.forEach((e=>{i.X(e).module("filter").param("type",t)}))}onChangeFrequency(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("frequency",t)}))}onChangeQuality(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("Q",t)}))}onChangeGain(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("gain",t)}))}onChangeAttack(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("attack",t)}))}onChangeDecay(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("decay",t)}))}onChangeSustain(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("sustain",t)}))}onChangeRelease(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("filter").param("release",t)}))}}t.default=c},5850:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilterFieldset=void 0;const o=a(7822);t.FilterFieldset=o.default},47:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeTime=this.onChangeTime.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this),this.onChangeMix=this.onChangeMix.bind(this),this.onChangeTone=this.onChangeTone.bind(this),this.onChangeFeedback=this.onChangeFeedback.bind(this)}render(){return o.createElement("div",{className:"FlangerFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"flanger-state",label:"Flanger",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Time",id:"flanger-time",defaultValue:0,min:0,max:10,step:.05,onChange:this.onChangeTime}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Depth",id:"flanger-depth",defaultValue:0,min:0,max:1,step:.01,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Rate",id:"flanger-rate",defaultValue:0,min:0,max:10,step:.05,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Mix",id:"flanger-mix",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeMix}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Tone",id:"flanger-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:this.onChangeTone}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Feedback",id:"flanger-feedback",defaultValue:0,min:0,max:.95,step:.05,onChange:this.onChangeFeedback}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("flanger").state(t)}))}onChangeTime(e){const t=e.currentTarget.valueAsNumber/1e3;this.props.sources.forEach((e=>{l.X(e).module("flanger").param("time",t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("flanger").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("flanger").param("rate",t)}))}onChangeMix(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("flanger").param("mix",t)}))}onChangeTone(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("flanger").param("tone",t)}))}onChangeFeedback(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("flanger").param("feedback",t)}))}}t.default=i},7309:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlangerFieldset=void 0;const o=a(47);t.FlangerFieldset=o.default},7139:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294);t.default=()=>o.createElement("footer",{className:"Footer"},o.createElement("small",null,"Copyright (c) 2012 ",o.createElement("strong",null,"Tomohiro IKEDA")," >> ",o.createElement("a",{href:"https://korilakkuma.github.io/LIFE-with-FAVORITES/",target:"_blank",rel:"noopener noreferrer"},"Website")),o.createElement("small",null,o.createElement("a",{href:"http://maoudamashii.jokersounds.com/",target:"_blank",rel:"noopener noreferrer"},"/")))},6412:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;const o=a(7139);t.Footer=o.default},9334:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(3337);class s extends o.Component{constructor(e){super(e),this.state={running:!1,animationEnd:!1},this.onClick=this.onClick.bind(this),this.onAnimationEnd=this.onAnimationEnd.bind(this)}render(){const{progress:e,rate:t}=this.props;return o.createElement("header",{className:`Header${this.props.progress?" -progress":" -fadeIn"}${this.state.running?" -fadeOut":""}`,hidden:this.state.animationEnd,onAnimationEnd:this.onAnimationEnd},o.createElement("div",{hidden:this.props.progress},o.createElement("div",{className:"Header__forkMeOnGitHub"},o.createElement("a",{href:"https://github.com/Korilakkuma/XSound.app",target:"_blank",rel:"noopener noreferrer"},o.createElement("img",{src:"https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png",alt:"Fork me on GitHub"}))),o.createElement("div",null,o.createElement("h1",{className:"Header__logo"},o.createElement("img",{src:"/assets/images/logo-v09.png",alt:"XSound.app",width:"200",height:"100"}),o.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),o.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),o.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),o.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"}),o.createElement("img",{src:"/assets/images/logo-v09.png",alt:"",width:"200",height:"100"})),o.createElement("div",{className:"Header__intro"},o.createElement("span",{className:"Header__moveLeft"},"This application is created by ",o.createElement("strong",null,"Web Audio API"),". You can create sound or listen to audio or record sound or session."),o.createElement("span",{className:"Header__moveRight"},"The sound that can be created corresponds to 88 keyboards of Piano, and you can play the 2 sounds at the same time."),o.createElement("span",{className:"Header__moveLeft"},"Moreover, you can make effects to sound. Other, you can watch sound waves on time and frequency domain.")),o.createElement("nav",{className:"Header__startButton"},o.createElement("button",{type:"button","aria-label":"Start Application",onClick:this.onClick})))),o.createElement(r.ProgressBar,{title:"Now Loading ...",progress:e,rate:t,auto:!1}))}onClick(){this.setState({running:!0})}onAnimationEnd(e){"fade-out-header-animation"===e.nativeEvent.animationName&&this.setState({animationEnd:!0})}}t.default=s},7308:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const o=a(9334);t.Header=o.default},6926:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(679),s=a(2412),n=a(870),l=a(3337),i=a(6216),c=a(3824),h=a(4262),u=/<span class="x-highlight">(.+?)<\/span>/g;class d extends o.Component{constructor(e){super(e),this.setupped=!1,this.mmls=["",""],this.state={active:e.active,paused:!0,highlight:!1,melody:"",bass:"",dataURL:"",filename:"",progress:!1,loaded:0,total:0,rate:0,mmlErrorMessage:"",errorMessage:"",isShowModalForFileUploadError:!1,isShowModalForProgress:!1,isShowModalConfirmation:!1},this.readyMML=this.readyMML.bind(this),this.onBlurMelody=this.onBlurMelody.bind(this),this.onBlurBass=this.onBlurBass.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onDragEnter=this.onDragEnter.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragLeave=this.onDragLeave.bind(this),this.onDrop=this.onDrop.bind(this),this.onClickMMLController=this.onClickMMLController.bind(this),this.onClickRewindButton=this.onClickRewindButton.bind(this),this.onClickDownloadButton=this.onClickDownloadButton.bind(this),this.onChangeHightlight=this.onChangeHightlight.bind(this),this.onCloseModal=this.onCloseModal.bind(this),this.onClickOverwrite=this.onClickOverwrite.bind(this),this.onClickCancel=this.onClickCancel.bind(this)}static getDerivedStateFromProps(e,t){return t.active!==e.active?{active:e.active}:null}componentDidMount(){const e=["forever-love","tears"][Date.now()%2];fetch(`/assets/mmls/${e}.txt`).then((e=>e.text())).then((e=>{const t=e.split(/\|+/);this.setState({melody:t[0],bass:t[1]},(()=>{this.readyMML()}))})).catch((e=>{}))}componentDidUpdate(e){if(e.currentSoundSource!==this.props.currentSoundSource)return void this.setState((e=>{const{melody:t,bass:a}=e;return{melody:t.replace(u,"$1"),bass:a.replace(u,"$1"),paused:!0}}),(()=>{for(let e=0,t=h.X("oscillator").length();e<t;e++)0!==e&&(h.X("oscillator").get(e).state(!1),window.C("oscillator").get(e).state(!1));this.readyMML()}));if(this.setupped)return;const t=e=>{e.indexes.forEach((e=>{"R"!==e&&this.props.setSoundStop(e,!0)}))},a=()=>{for(let e=0,t=h.X("oscillator").length();e<t;e++)0!==e&&(h.X("oscillator").get(e).state(!1),window.C("oscillator").get(e).state(!1));this.props.clear(),this.setState((e=>{const{melody:t,bass:a}=e;return{melody:t.replace(u,"$1"),bass:a.replace(u,"$1"),paused:!0}}),(()=>{this.readyMML()}))},o=(e,t)=>{switch(e){case"TEMPO":case"OCTAVE":case"NOTE":this.setState({mmlErrorMessage:`Maybe, ${t} is invalid.`});break;case"MML":default:this.setState({mmlErrorMessage:"The designated MML is invalid."})}};h.X("mml").setup({start:e=>{if(e.indexes.forEach((e=>{"R"!==e&&this.props.setSoundStop(e,!1)})),this.state.highlight){const e=h.X("mml").get(0,!0);this.setState({melody:e})}},stop:t,ended:a,error:o}),window.C("mml").setup({start:e=>{if(e.indexes.forEach((e=>{"R"!==e&&this.props.setSoundStop(e,!1)})),this.state.highlight){const e=window.C("mml").get(0,!0);this.setState({bass:e})}},stop:t,ended:a,error:o}),this.setupped=!0}render(){const{active:e,paused:t,highlight:a,melody:h,bass:u,dataURL:d,filename:p,progress:m,loaded:g,rate:C,errorMessage:b,isShowModalForFileUploadError:w,isShowModalForProgress:f,isShowModalConfirmation:M}=this.state;return o.createElement("div",{className:"MML"+(e?" -active":"")},o.createElement("div",{className:"MML__editor"},o.createElement("dl",null,o.createElement("dt",null,"Melody"),o.createElement("dd",{contentEditable:!0,dangerouslySetInnerHTML:{__html:h},onBlur:this.onBlurMelody})),o.createElement("dl",null,o.createElement("dt",null,"Bass"),o.createElement("dd",{contentEditable:!0,dangerouslySetInnerHTML:{__html:u},onBlur:this.onBlurBass}))),o.createElement("div",{className:"MML__controllers"},o.createElement("button",{type:"button",className:"MML__controller"+(t?" -paused":""),"aria-label":t?"Start":"Pause",onClick:this.onClickMMLController}),o.createElement("button",{type:"button",className:"MML__rewinder","aria-label":"Rewind",onClick:this.onClickRewindButton}),o.createElement("a",{href:d,download:d?r.createFilename("mml-",".txt"):null,role:"button",className:"MML__download","aria-label":"Download",onClick:this.onClickDownloadButton}),o.createElement(s.Switch,{id:"mml-switch-highlight",label:"Highlight",defaultChecked:a,onChange:this.onChangeHightlight}),o.createElement(n.FileUploader,{label:"MML text file",accept:"text/plain",placeholder:"MML text file",filename:p,onChange:this.onChangeFile,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop})),o.createElement(i.Modal,{hasOverlay:!0,isShow:w,title:"Error",onClose:this.onCloseModal},b),o.createElement(i.Modal,{hasOverlay:!0,isShow:f,title:"Progress ..."},o.createElement("p",null,g," bytes (",C," %)"),o.createElement(l.ProgressBar,{title:"",progress:m,rate:C,auto:!1})),o.createElement(c.SelectableModal,{hasOverlay:!0,isShow:M,title:"Confirmation",first:{label:"Cancel",action:this.onClickCancel},second:{label:"OK",action:this.onClickOverwrite},onClose:this.onClickCancel},o.createElement("p",null,"Overwrite. OK ?")))}readyMML(){const{melody:e,bass:t}=this.state;switch(this.props.currentSoundSource){case"oscillator":h.X("mml").ready(h.X("oscillator"),e),window.C("mml").ready(window.C("oscillator"),t);break;case"piano":h.X("mml").ready(h.X("oneshot"),e,0),window.C("mml").ready(h.X("oneshot"),t,0);break;case"guitar":h.X("mml").ready(h.X("oneshot"),e,88),window.C("mml").ready(h.X("oneshot"),t,88);break;case"electric-guitar":h.X("mml").ready(h.X("oneshot"),e,176),window.C("mml").ready(h.X("oneshot"),t,176);break;case"whitenoise":case"pinknoise":case"browniannoise":h.X("mml").ready(h.X("noise"),e),window.C("mml").ready(window.C("noise"),t)}}onBlurMelody(e){null!==e.currentTarget&&null!==e.currentTarget.textContent&&this.setState({melody:e.currentTarget.textContent,paused:!0},(()=>{this.readyMML()}))}onBlurBass(e){null!==e.currentTarget&&null!==e.currentTarget.textContent&&this.setState({bass:e.currentTarget.textContent,paused:!0},(()=>{this.readyMML()}))}onClickMMLController(){if(h.X("mml").isSequences()||window.C("mml").isSequences()){if(this.state.paused)if("oscillator"===this.props.currentSoundSource){for(let e=0,t=h.X("oscillator").length();e<t;e++)h.X("oscillator").get(e).state(!0),window.C("oscillator").get(e).state(!0);h.X("mml").start(0,!0),window.C("mml").start(0,!0),h.X("mixer").module("recorder").start(),h.X("mixer").module("session").start()}else h.X("mml").start(0,!0),window.C("mml").start(0,!0),h.X("oneshot").module("recorder").start(),h.X("oneshot").module("session").start();else{h.X("mml").stop(),window.C("mml").stop();for(let e=0,t=h.X("oscillator").length();e<t;e++)h.X("oscillator").get(e).state(!1),window.C("oscillator").get(e).state(!1)}this.setState((e=>({paused:!e.paused})))}}onClickRewindButton(){h.X("mml").stop().clear(),window.C("mml").stop().clear(),this.props.clear(),this.setState((e=>{const{melody:t,bass:a}=e;return{melody:t.replace(u,"$1"),bass:a.replace(u,"$1"),paused:!0}}),(()=>{this.readyMML()}))}onClickDownloadButton(){this.setState((e=>{const{melody:t,bass:a}=e;return{melody:t.replace(u,"$1"),bass:a.replace(u,"$1")}}),(()=>{this.setState((e=>({dataURL:h.X.toTextFile(`${e.melody}||||${e.bass}`)})))}))}onChangeHightlight(e){this.setState({highlight:e.currentTarget.checked})}readFile(e){const t={event:e.nativeEvent,type:"Text",success:(e,t)=>{e.currentTarget.value="",this.setState({progress:!1,isShowModalForProgress:!1},(()=>{this.mmls=t.split(/\|+/);const{melody:e,bass:a}=this.state;e||a?this.setState({isShowModalConfirmation:!0}):this.setState({melody:this.mmls[0],bass:this.mmls[1]},(()=>{this.readyMML()}))}))},error:e=>{this.setState({progress:!1,errorMessage:e.message,isShowModalForFileUploadError:!0})},progress:e=>{const{lengthComputable:t,loaded:a,total:o}=e;this.setState({progress:t,loaded:a,total:o,rate:t&&o>0?Math.floor(a/o*100):0,isShowModalForProgress:!0})}};try{const e=h.X.file(t);this.setState({filename:e.name})}catch(e){this.setState({errorMessage:e.message,isShowModalForFileUploadError:!0})}}onChangeFile(e){this.readFile(e)}onDragEnter(e){e.preventDefault()}onDragOver(e){e.preventDefault()}onDragLeave(e){e.preventDefault()}onDrop(e){this.readFile(e)}onCloseModal(){this.setState({isShowModalForFileUploadError:!1})}onClickOverwrite(){this.mmls[0]&&this.setState({melody:this.mmls[0]}),this.mmls[1]&&this.setState({bass:this.mmls[1]}),this.readyMML(),this.mmls=["",""],this.setState({isShowModalConfirmation:!1})}onClickCancel(){this.setState({isShowModalConfirmation:!1})}}t.default=d},2341:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MML=void 0;const o=a(6926);t.MML=o.default},5042:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(698),l=a(5342);t.default=e=>{const{oscillatorNumber:t,label:a,radioName:i,defaultState:c,onChangeType:h,onChangeState:u,onChangeVolume:d,onChangeOctave:p,onChangeFine:m}=e;return o.createElement("div",{className:"OscillatorFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"oscillator-fieldset-state-"+t,label:a,defaultChecked:c,onChange:u})),o.createElement(n.OscillatorSelector,{radioName:i,initialValue:"sawtooth",onChange:h}),o.createElement(r.Spacer,{space:16}),o.createElement(l.ValueController,{label:"Volume",id:"oscillator-fieldset-volume-"+t,defaultValue:1,min:0,max:1,step:.05,onChange:d}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Octave",id:"oscillator-fieldset-octave-"+t,defaultValue:0,min:-4,max:4,step:1,onChange:p}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Fine",id:"oscillator-fieldset-fine-"+t,defaultValue:0,min:-1200,max:1200,step:1,onChange:m})))}},9999:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscillatorFieldset=void 0;const o=a(5042);t.OscillatorFieldset=o.default},2528:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(9383),n=a(2412),l=a(5342),i=a(4262);class c extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeStage=this.onChangeStage.bind(this),this.onChangeFrequency=this.onChangeFrequency.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this),this.onChangeMix=this.onChangeMix.bind(this),this.onChangeFeedback=this.onChangeFeedback.bind(this)}render(){return o.createElement("div",{className:"PhaserFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(n.Switch,{id:"phaser-state",label:"Phaser",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(s.Select,{values:["0","2","4","8","12","24"],texts:["ALL-PASS FILTER","2 STAGES","4 STAGES","8 STAGES","12 STAGES","24 STAGES"],onChange:this.onChangeStage,defaultValue:"12"}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Frequency",id:"phaser-frequency",defaultValue:350,min:350,max:8e3,step:1,onChange:this.onChangeFrequency}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Depth",id:"phaser-depth",defaultValue:0,min:0,max:.9,step:.05,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Rate",id:"phaser-rate",defaultValue:0,min:0,max:5,step:.05,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Mix",id:"phaser-mix",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeMix}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Feedback",id:"phaser-feedback",defaultValue:0,min:0,max:.95,step:.05,onChange:this.onChangeFeedback}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{i.X(e).module("phaser").state(t)}))}onChangeStage(e){const t=parseInt(e.currentTarget.value,10);this.props.sources.forEach((e=>{i.X(e).module("phaser").param("stage",t)}))}onChangeFrequency(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("phaser").param("frequency",t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("phaser").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("phaser").param("rate",t)}))}onChangeMix(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("phaser").param("mix",t)}))}onChangeFeedback(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("phaser").param("feedback",t)}))}}t.default=c},7265:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhaserFieldset=void 0;const o=a(2528);t.PhaserFieldset=o.default},4658:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(4262),s={"A-4":0,"A-4h":1,"B-4":2,"C-3":3,"C-3h":4,"D-3":5,"D-3h":6,"E-3":7,"F-3":8,"F-3h":9,"G-3":10,"G-3h":11,"A-3":12,"A-3h":13,"B-3":14,"C-2":15,"C-2h":16,"D-2":17,"D-2h":18,"E-2":19,"F-2":20,"F-2h":21,"G-2":22,"G-2h":23,"A-2":24,"A-2h":25,"B-2":26,"C-1":27,"C-1h":28,"D-1":29,"D-1h":30,"E-1":31,"F-1":32,"F-1h":33,"G-1":34,"G-1h":35,"A-1":36,"A-1h":37,"B-1":38,C:39,Ch:40,D:41,Dh:42,E:43,F:44,Fh:45,G:46,Gh:47,A:48,Ah:49,B:50,C1:51,C1h:52,D1:53,D1h:54,E1:55,F1:56,F1h:57,G1:58,G1h:59,A1:60,A1h:61,B1:62,C2:63,C2h:64,D2:65,D2h:66,E2:67,F2:68,F2h:69,G2:70,G2h:71,A2:72,A2h:73,B2:74,C3:75,C3h:76,D3:77,D3h:78,E3:79,F3:80,F3h:81,G3:82,G3h:83,A3:84,A3h:85,B3:86,C4:87},n=["A-4","B-4","C-3","D-3","E-3","F-3","G-3","A-3","B-3","C-2","D-2","E-2","F-2","G-2","A-2","B-2","C-1","D-1","E-1","F-1","G-1","A-1","B-1","C","D","E","F","G","A","B","C1","D1","E1","F1","G1","A1","B1","C2","D2","E2","F2","G2","A2","B2","C3","D3","E3","F3","G3","A3","B3","C4"],l=["A-4h","skip0","C-3h","D-3h","skip1","F-3h","G-3h","A-3h","skip2","C-2h","D-2h","skip3","F-2h","G-2h","A-2h","skip4","C-1h","D-1h","skip5","F-1h","G-1h","A-1h","skip6","Ch","Dh","skip7","Fh","Gh","Ah","skip8","C1h","D1h","skip9","F1h","G1h","A1h","skip10","C2h","D2h","skip11","F2h","G2h","A2h","skip12","C3h","D3h","skip13","F3h","G3h","A3h"];class i extends o.Component{constructor(e){super(e),this.isDown=!1,this.state={isSoundStops:new Array(88).fill(!0)},this.startSound=this.startSound.bind(this),this.stopSound=this.stopSound.bind(this)}render(){return o.createElement("div",{className:"Piano"},o.createElement("ul",{className:"Piano__whites"},n.map((e=>o.createElement("li",{key:e,className:"Piano__keyboard"+(this.state.isSoundStops[s[e]]?"":" -active"),role:"button","aria-label":e,"data-pitch":e,"data-index":s[e],onMouseDown:this.startSound,onTouchStart:this.startSound,onMouseUp:this.stopSound,onTouchEnd:this.stopSound,onMouseOver:this.startSound,onTouchMove:this.startSound,onMouseOut:this.stopSound})))),o.createElement("ul",{className:"Piano__blacks"},l.map((e=>-1!==e.indexOf("skip")?o.createElement("li",{key:e,className:"Piano__keyboard -skip","aria-label":"skip"}):o.createElement("li",{key:e,className:"Piano__keyboard"+(this.state.isSoundStops[s[e]]?"":" -active"),role:"button","aria-label":e,"data-pitch":e,"data-index":s[e],onMouseDown:this.startSound,onTouchStart:this.startSound,onMouseUp:this.stopSound,onTouchEnd:this.stopSound,onMouseOver:this.startSound,onTouchMove:this.startSound,onMouseOut:this.stopSound})))))}setSoundStop(e,t){const a=this.state.isSoundStops.slice(0);a[e]=t,this.setState({isSoundStops:a})}clear(){const e=this.state.isSoundStops.map((()=>!0));this.setState({isSoundStops:e})}startSound(e){if(!r.X.IS_XSOUND||e.currentTarget.classList.contains("skip"))return;if(("mouseover"===e.type||"touchmove"===e.type)&&!this.isDown)return;const t=e.currentTarget.getAttribute("data-index");if(null===t)return;const a=parseInt(t,10);switch(this.props.currentSoundSource){case"oscillator":r.X("oscillator").ready(0,0).start(r.X.toFrequencies(a)),window.C("oscillator").ready(0,0).start(r.X.toFrequencies(a)),r.X("mixer").mix([r.X("oscillator"),window.C("oscillator")]),r.X("mixer").module("recorder").start(),r.X("mixer").module("session").start();break;case"piano":r.X("oneshot").ready(0,0).start(a),r.X("oneshot").module("recorder").start(),r.X("oneshot").module("session").start();break;case"guitar":r.X("oneshot").ready(0,0).start(a+88),r.X("oneshot").module("recorder").start(),r.X("oneshot").module("session").start();break;case"electric-guitar":r.X("oneshot").ready(0,0).start(a+88+88),r.X("oneshot").module("recorder").start(),r.X("oneshot").module("session").start();break;case"whitenoise":r.X("noise").param("type","whitenoise").start(),r.X("noise").module("recorder").start(),r.X("noise").module("session").start();break;case"pinknoise":r.X("noise").param("type","pinknoise").start(),r.X("noise").module("recorder").start(),r.X("noise").module("session").start();break;case"browniannoise":r.X("noise").param("type","browniannoise").start(),r.X("noise").module("recorder").start(),r.X("noise").module("session").start()}const o=this.state.isSoundStops.slice(0);o[a]=!1,this.setState({isSoundStops:o}),this.isDown=!0}stopSound(e){if(!r.X.IS_XSOUND||e.currentTarget.classList.contains("skip"))return;e.stopPropagation();const t=e.currentTarget.getAttribute("data-index");if(null===t)return;const a=parseInt(t,10);switch(this.props.currentSoundSource){case"oscillator":r.X("oscillator").stop(),window.C("oscillator").stop();break;case"piano":r.X("oneshot").stop(a);break;case"guitar":r.X("oneshot").stop(a+88);break;case"electric-guitar":r.X("oneshot").stop(a+88+88);break;default:r.X("noise").stop()}const o=this.state.isSoundStops.slice(0);o[a]=!0,this.setState({isSoundStops:o}),"mouseup"===e.type&&(this.isDown=!1)}}t.default=i},1905:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Piano=void 0;const o=a(4658);t.Piano=o.default},5722:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(679),s=a(81),n=a(9383),l=a(5342),i=a(3824),c=a(4262);class h extends o.Component{constructor(e){super(e),this.activeTrack=-1,this.state={objectURL:"",running:!1,creating:!1,isShowModal:!1},this.onClickRecordButton=this.onClickRecordButton.bind(this),this.onClickCreateButton=this.onClickCreateButton.bind(this),this.onClickDownloadButton=this.onClickDownloadButton.bind(this),this.onClickClearButton=this.onClickClearButton.bind(this),this.onClickClearTrack=this.onClickClearTrack.bind(this),this.onClickCancelClearTrack=this.onClickCancelClearTrack.bind(this),this.onChangeTrack=this.onChangeTrack.bind(this),this.onChangeLeftChannelGain=this.onChangeLeftChannelGain.bind(this),this.onChangeRightChannelGain=this.onChangeRightChannelGain.bind(this)}componentDidUpdate(){this.activeTrack>=0||(this.props.sources.forEach((e=>{"oscillator"!==e&&c.X(e).module("recorder").setup(4)})),this.activeTrack=0)}render(){const{objectURL:e,running:t,creating:a,isShowModal:c}=this.state;return o.createElement("div",{className:"RecorderFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,"Recorder"),o.createElement("div",{className:"RecorderFieldset__buttons"},o.createElement("button",{type:"button",className:"RecorderFieldset__controller"+(t?" -active":""),"aria-label":t?"Stop Recording":"Start Recording",onClick:this.onClickRecordButton}),o.createElement("button",{type:"button",className:"RecorderFieldset__creator"+(a?" -active":""),"aria-label":a?"Now creating WAVE file":"Create WAVE file",onClick:this.onClickCreateButton}),o.createElement("a",{href:e,download:e?r.createFilename("record-",".wav"):null,className:"RecorderFieldset__download","aria-label":"Download",onClick:this.onClickDownloadButton}),o.createElement("button",{type:"button",className:"RecorderFieldset__clear","aria-label":"Clear Track",onClick:this.onClickClearButton})),o.createElement(s.Spacer,{space:16}),o.createElement(n.Select,{values:["0","1","2","3"],texts:["TRACK 1","TRACK 2","TRACK 3","TRACK 4"],onChange:this.onChangeTrack}),o.createElement(s.Spacer,{space:16}),o.createElement(l.ValueController,{label:"Left Channel",id:"recorder-fieldset-left-channel-gain",defaultValue:1,min:0,max:1,step:.05,onChange:this.onChangeLeftChannelGain}),o.createElement(s.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Right Channel",id:"recorder-fieldset-right-channel-gain",defaultValue:1,min:0,max:1,step:.05,onChange:this.onChangeRightChannelGain})),o.createElement(i.SelectableModal,{hasOverlay:!0,isShow:c,title:"Confirmation",first:{label:"Cancel",action:this.onClickCancelClearTrack},second:{label:"OK",action:this.onClickClearTrack},onClose:this.onClickCancelClearTrack},o.createElement("p",null,"Clear Track ",this.activeTrack+1,". OK ?")))}onClickRecordButton(){this.state.running?(this.props.sources.forEach((e=>{"oscillator"!==e&&c.X(e).module("recorder").stop()})),this.setState({running:!1})):(this.props.sources.forEach((e=>{"oscillator"!==e&&(c.X(e).module("recorder").ready(this.activeTrack),"stream"===e&&c.X("stream").module("recorder").start())})),this.setState({running:!0}))}onClickCreateButton(){this.setState({running:!1});for(const e of this.props.sources){if("oscillator"===e)continue;this.setState({creating:!0});const t=c.X(e).module("recorder").create("all",2,16,"objectURL");if(t){const e=new Audio(t);return e.controls=!1,e.play(),void this.setState({objectURL:t,creating:!1})}}this.setState({creating:!1})}onClickDownloadButton(e){const{objectURL:t,running:a}=this.state;t&&!a||e.preventDefault()}onClickClearButton(){this.state.running||this.setState({isShowModal:!0})}onClickClearTrack(){this.props.sources.forEach((e=>{"oscillator"!==e&&c.X(e).module("recorder").clear(this.activeTrack)})),this.setState({isShowModal:!1})}onClickCancelClearTrack(){this.setState({isShowModal:!1})}onChangeTrack(e){this.state.running||(this.activeTrack=parseInt(e.currentTarget.value,10),this.props.sources.forEach((e=>{"oscillator"!==e&&(c.X(e).module("recorder").ready(this.activeTrack),"stream"===e&&c.X("stream").module("recorder").start())})))}onChangeLeftChannelGain(e){this.props.sources.forEach((t=>{"oscillator"!==t&&c.X(t).module("recorder").param("gainL",e.currentTarget.valueAsNumber)}))}onChangeRightChannelGain(e){this.props.sources.forEach((t=>{"oscillator"!==t&&c.X(t).module("recorder").param("gainR",e.currentTarget.valueAsNumber)}))}}t.default=h},2789:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecorderFieldset=void 0;const o=a(5722);t.RecorderFieldset=o.default},3619:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(9383),n=a(2412),l=a(5342),i=a(4262);class c extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeType=this.onChangeType.bind(this),this.onChangeDry=this.onChangeDry.bind(this),this.onChangeWet=this.onChangeWet.bind(this),this.onChangeTone=this.onChangeTone.bind(this)}render(){const e=[],t={},a={};return this.props.rirInfos.forEach((o=>{const{value:r,label:s,group:n}=o;e.push(n),Array.isArray(t[n])?t[n].push(r.toString(10)):t[n]=[r.toString(10)],Array.isArray(a[n])?a[n].push(s):a[n]=[s]})),o.createElement("div",{className:"ReverbFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(n.Switch,{id:"reverb-state",label:"Reverb",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(s.Select,{groups:e,values:t,texts:a,onChange:this.onChangeType}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Dry",id:"reverb-dry",defaultValue:1,min:0,max:1,step:.05,onChange:this.onChangeDry}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Wet",id:"reverb-wet",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeWet}),o.createElement(r.Spacer,{space:8}),o.createElement(l.ValueController,{label:"Tone",id:"reverb-tone",defaultValue:4e3,min:20,max:8e3,step:1,onChange:this.onChangeTone}),o.createElement(r.Spacer,{space:8}),o.createElement("aside",null,"Reverb effect requires Impulse Response data. ",o.createElement("a",{href:"http://legacy.spa.aalto.fi/projects/poririrs/",target:"_black",rel:"noopener noreferrer"},"Here"),", you can get Impulse Response file !")))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{i.X(e).module("reverb").state(t)}))}onChangeType(e){const t=parseInt(e.currentTarget.value,10);this.props.sources.forEach((e=>{i.X(e).module("reverb").param("type",t)}))}onChangeDry(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("reverb").param("dry",t)}))}onChangeWet(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("reverb").param("wet",t)}))}onChangeTone(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{i.X(e).module("reverb").param("tone",t)}))}}t.default=c},5250:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReverbFieldset=void 0;const o=a(3619);t.ReverbFieldset=o.default},2101:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this)}render(){return o.createElement("div",{className:"RingModulatorFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"ringmodulator-state",label:"Ring MOD.",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Depth",id:"ringmodulator-depth",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Rate",id:"ringmodulator-rate",defaultValue:0,min:0,max:1500,step:1,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("ringmodulator").state(t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("ringmodulator").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("ringmodulator").param("rate",t)}))}}t.default=i},7718:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RingModulatorFieldset=void 0;const o=a(2101);t.RingModulatorFieldset=o.default},8190:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this)}render(){return o.createElement("div",{className:"TremoloFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"tremolo-state",label:"Tremolo",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Depth",id:"tremolo-depth",defaultValue:0,min:0,max:1,step:.05,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Rate",id:"tremolo-rate",defaultValue:0,min:0,max:25,step:.05,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("tremolo").state(t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("tremolo").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("tremolo").param("rate",t)}))}}t.default=i},6690:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TremoloFieldset=void 0;const o=a(8190);t.TremoloFieldset=o.default},7143:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(81),s=a(2412),n=a(5342),l=a(4262);class i extends o.Component{constructor(e){super(e),this.onChangeState=this.onChangeState.bind(this),this.onChangeCutoff=this.onChangeCutoff.bind(this),this.onChangeDepth=this.onChangeDepth.bind(this),this.onChangeRate=this.onChangeRate.bind(this),this.onChangeResonance=this.onChangeResonance.bind(this)}render(){return o.createElement("div",{className:"WahFieldset"},o.createElement("fieldset",null,o.createElement("legend",null,o.createElement(s.Switch,{id:"wah-state",label:"Wah",defaultChecked:!1,onChange:this.onChangeState})),o.createElement(n.ValueController,{label:"Cutoff",id:"wah-cutoff",defaultValue:350,min:350,max:8e3,step:1,onChange:this.onChangeCutoff}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Depth",id:"wah-depth",defaultValue:0,min:0,max:.9,step:.01,onChange:this.onChangeDepth}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Rate",id:"wah-rate",defaultValue:0,min:0,max:10,step:.05,onChange:this.onChangeRate}),o.createElement(r.Spacer,{space:8}),o.createElement(n.ValueController,{label:"Resonance",id:"wah-resonance",defaultValue:1,min:1,max:20,step:1,onChange:this.onChangeResonance}),o.createElement(r.Spacer,{space:8})))}onChangeState(e){const t=e.currentTarget.checked;this.props.sources.forEach((e=>{l.X(e).module("wah").state(t)}))}onChangeCutoff(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("wah").param("cutoff",t)}))}onChangeDepth(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("wah").param("depth",t)}))}onChangeRate(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("wah").param("rate",t)}))}onChangeResonance(e){const t=e.currentTarget.valueAsNumber;this.props.sources.forEach((e=>{l.X(e).module("wah").param("resonance",t)}))}}t.default=i},8948:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WahFieldset=void 0;const o=a(7143);t.WahFieldset=o.default},99:(e,t,a)=>{const o=a(7294),r=a(3935),s=a(592),n=a(265),l=a(7462),i=a(1309);r.render(o.createElement(s.Provider,{store:l.store},o.createElement(n.ConnectedRouter,{history:l.history},i.default)),document.getElementById("app"))},1495:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.rootReducer=void 0;const o=a(4890),r=a(265),s=a(2242);function n(e="oscillator",t){switch(t.type){case s.ActionTypes.CHANGE_CURRENT_SOUND_SOURCE:return t.payload;default:return e}}function l(e=!1,t){switch(t.type){case s.ActionTypes.CHANGE_ANALYSER_STATE:return t.payload;default:return e}}function i(e=!1,t){switch(t.type){case s.ActionTypes.CHANGE_MML_STATE:return t.payload;default:return e}}t.rootReducer=e=>o.combineReducers({currentSoundSource:n,analyserState:l,mmlState:i,router:r.connectRouter(e)})},1309:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=a(7294),r=a(5513),s=a(5548);t.default=o.createElement(r.Switch,null,o.createElement(r.Route,{exact:!0,path:"/"},o.createElement(s.App,null)))},7462:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.history=t.store=void 0;const o=a(4890),r=a(265),s=a(9731),n=a(1495),l=s.createBrowserHistory();t.history=l;const i=r.routerMiddleware(l),c=o.createStore(n.rootReducer(l),o.compose(o.applyMiddleware(i)));t.store=c},679:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createFilename=void 0,t.createFilename=function(e,t){const a=e=>("0"+e).slice(-2),o=new Date;return`${e}${o.getFullYear()}${a(o.getMonth()+1)}${a(o.getDate())}${a(o.getHours())}${a(o.getMinutes())}${a(o.getSeconds())}${t}`}}},t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o](r,r.exports,a),r.loaded=!0,r.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={143:0},t=[[99,736],[5208,736]],o=()=>{};function r(){for(var o,r=0;r<t.length;r++){for(var s=t[r],n=!0,l=1;l<s.length;l++){var i=s[l];0!==e[i]&&(n=!1)}n&&(t.splice(r--,1),o=a(a.s=s[0]))}return 0===t.length&&(a.x(),a.x=()=>{}),o}a.x=()=>{a.x=()=>{},n=n.slice();for(var e=0;e<n.length;e++)s(n[e]);return(o=r)()};var s=r=>{for(var s,n,[i,c,h,u]=r,d=0,p=[];d<i.length;d++)n=i[d],a.o(e,n)&&e[n]&&p.push(e[n][0]),e[n]=0;for(s in c)a.o(c,s)&&(a.m[s]=c[s]);for(h&&h(a),l(r);p.length;)p.shift()();return u&&t.push.apply(t,u),o()},n=this.webpackChunkxsound_app=this.webpackChunkxsound_app||[],l=n.push.bind(n);n.push=s})(),a.x()})();
//# sourceMappingURL=app.js.map